{
  "version": 3,
  "sources": [
    "webpack:///webpack/bootstrap",
    "webpack:///./src/store/player.ts",
    "webpack:///./src/components/progress-bar/progress-bar.vue?3f41",
    "webpack:///./src/components/m-header/m-header.vue?5ff9",
    "webpack:///./src/common/js/util.ts",
    "webpack:///./src/common/image/default.png",
    "webpack:///./src/components/tab/tab.vue?9bce",
    "webpack:///./src/components/player/player.styl?27b1",
    "webpack:///./src/common/js/config.ts",
    "webpack:///./src/components/progress-circle/progress-circle.vue?2f46",
    "webpack:///./src/App.vue",
    "webpack:///./src/components/m-header/m-header.vue?799a",
    "webpack:///./src/components/m-header/m-header.vue?edbc",
    "webpack:///./src/components/tab/tab.vue?ed5f",
    "webpack:///./src/components/tab/tab.vue?a14a",
    "webpack:///./src/components/tab/tab.vue?28c0",
    "webpack:///./src/components/player/player.vue",
    "webpack:///./src/components/player/useAnimate.ts",
    "webpack:///./src/components/player/usePlay.ts",
    "webpack:///./src/components/progress-bar/progress-bar.vue?db68",
    "webpack:///./src/components/progress-bar/progress-bar.vue?045b",
    "webpack:///./src/components/progress-bar/progress-bar.vue?289d",
    "webpack:///./src/components/progress-circle/progress-circle.vue?1224",
    "webpack:///./src/components/progress-circle/progress-circle.vue?8076",
    "webpack:///./src/components/progress-circle/progress-circle.vue?d02d",
    "webpack:///./src/components/player/player.vue?1460",
    "webpack:///./src/components/player/player.vue?374d",
    "webpack:///./src/App.vue?1f00",
    "webpack:///./src/App.vue?72a1",
    "webpack:///./src/router/index.ts",
    "webpack:///./src/store/index.ts",
    "webpack:///./src/main.ts",
    "webpack:///./src/components/scroll/scroll.vue",
    "webpack:///./src/components/scroll/scroll.vue?e08a",
    "webpack:///./src/components/scroll/scroll.vue?fdaf"
  ],
  "names": [
    "webpackJsonpCallback",
    "data",
    "moduleId",
    "chunkId",
    "chunkIds",
    "moreModules",
    "executeModules",
    "i",
    "resolves",
    "length",
    "Object",
    "prototype",
    "hasOwnProperty",
    "call",
    "installedChunks",
    "push",
    "modules",
    "parentJsonpFunction",
    "shift",
    "deferredModules",
    "apply",
    "checkDeferredModules",
    "result",
    "deferredModule",
    "fulfilled",
    "j",
    "depId",
    "splice",
    "__webpack_require__",
    "s",
    "installedModules",
    "installedCssChunks",
    "jsonpScriptSrc",
    "p",
    "exports",
    "module",
    "l",
    "e",
    "promises",
    "cssChunks",
    "Promise",
    "resolve",
    "reject",
    "href",
    "fullhref",
    "existingLinkTags",
    "document",
    "getElementsByTagName",
    "tag",
    "dataHref",
    "getAttribute",
    "rel",
    "existingStyleTags",
    "linkTag",
    "createElement",
    "type",
    "onload",
    "onerror",
    "event",
    "request",
    "target",
    "src",
    "err",
    "Error",
    "code",
    "parentNode",
    "removeChild",
    "head",
    "appendChild",
    "then",
    "installedChunkData",
    "promise",
    "onScriptComplete",
    "script",
    "charset",
    "timeout",
    "nc",
    "setAttribute",
    "error",
    "clearTimeout",
    "chunk",
    "errorType",
    "realSrc",
    "message",
    "name",
    "undefined",
    "setTimeout",
    "all",
    "m",
    "c",
    "d",
    "getter",
    "o",
    "defineProperty",
    "enumerable",
    "get",
    "r",
    "Symbol",
    "toStringTag",
    "value",
    "t",
    "mode",
    "__esModule",
    "ns",
    "create",
    "key",
    "bind",
    "n",
    "object",
    "property",
    "oe",
    "console",
    "jsonpArray",
    "window",
    "oldJsonpFunction",
    "slice",
    "findIndex",
    "list",
    "song",
    "item",
    "id",
    "state",
    "singer",
    "playing",
    "fullScreen",
    "playlist",
    "sequenceList",
    "sequence",
    "currentIndex",
    "currentSong",
    "setSinger",
    "setFullScreen",
    "flag",
    "setPlayingState",
    "setPlayList",
    "setSequenceList",
    "setPlayMode",
    "setCurrentIndex",
    "selectPlay",
    "index",
    "random",
    "randomList",
    "randomPlay",
    "insertSong",
    "fpIndex",
    "currentSIndex",
    "fsIndex",
    "playerSymbol",
    "usePlayerStore",
    "usePlayerInject",
    "playerContext",
    "getRandomInt",
    "min",
    "max",
    "Math",
    "floor",
    "shuffle",
    "arr",
    "_arr",
    "playMode",
    "Component",
    "style",
    "routerViewBottom",
    "class",
    "to",
    "render",
    "__scopeId",
    "tabList",
    "setup",
    "ref",
    "enter",
    "afterEnter",
    "leave",
    "afterLeave",
    "width",
    "height",
    "image",
    "back",
    "middleTouchStart",
    "middleTouchMove",
    "middleTouchEnd",
    "cdCls",
    "playingLyric",
    "currentLyric",
    "lines",
    "line",
    "el",
    "lyricLineRef",
    "currentLineNum",
    "txt",
    "currentShow",
    "formatTime",
    "currentTime",
    "percent",
    "onProgressBarChange",
    "duration",
    "changeMode",
    "iconMode",
    "disableCls",
    "prev",
    "playIcon",
    "togglePlay",
    "next",
    "open",
    "radius",
    "miniPlayIcon",
    "url",
    "ready",
    "updateTime",
    "end",
    "done",
    "getPosAndScale",
    "x",
    "y",
    "scale",
    "animation",
    "0",
    "transform",
    "60",
    "100",
    "a",
    "registerAnimation",
    "presets",
    "easing",
    "runAnimation",
    "unregisterAnimation",
    "transition",
    "addEventListener",
    "targetWidth",
    "paddingLeft",
    "paddingBottom",
    "paddingTop",
    "innerWidth",
    "innerHeight",
    "useAnimate",
    "cdWrapper",
    "usePlay",
    "audio",
    "songReady",
    "newSong",
    "oldSong",
    "play",
    "log",
    "newPlaying",
    "pause",
    "map",
    "loop",
    "useReady",
    "useTime",
    "interval",
    "minute",
    "second",
    "toString",
    "padStart",
    "useLyric",
    "lyricState",
    "lyricListRef",
    "handleLyric",
    "lineNum",
    "lineEl",
    "scrollToElement",
    "scrollTo",
    "stop",
    "getLyric",
    "lyric",
    "useShow",
    "touchState",
    "middleLeftRef",
    "initiated",
    "startX",
    "touches",
    "pageX",
    "startY",
    "pageY",
    "touch",
    "deltaX",
    "deltaY",
    "abs",
    "left",
    "$el",
    "transitionDuration",
    "opacity",
    "offsetWidth",
    "progressClick",
    "progressTouchStart",
    "progressTouchMove",
    "progressTouchEnd",
    "progressBtnWidth",
    "props",
    "Number",
    "default",
    "emit",
    "progressBar",
    "progress",
    "progressBtn",
    "barPercent",
    "newPercent",
    "barWidth",
    "clientWidth",
    "set",
    "val",
    "triggerPercent",
    "rect",
    "getBoundingClientRect",
    "viewBox",
    "version",
    "xmlns",
    "cx",
    "cy",
    "fill",
    "stroke-dasharray",
    "dashArray",
    "stroke-dashoffset",
    "dashOffset",
    "PI",
    "seek",
    "resetCurrentIndex",
    "components",
    "ProgressCircle",
    "ProgressBar",
    "Scroll",
    "MHeader",
    "Tab",
    "Player",
    "color",
    "bottom",
    "routes",
    "path",
    "redirect",
    "component",
    "children",
    "router",
    "history",
    "mutations",
    "actions",
    "App",
    "use",
    "store",
    "loading",
    "mount",
    "listenScroll",
    "Boolean",
    "wrapper",
    "scroll",
    "arguments",
    "observeDOM",
    "click",
    "probeType",
    "on",
    "pos"
  ],
  "mappings": "aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAGnBC,EAAqB,CACxB,IAAO,GAMJjB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASa,EAAe7B,GACvB,OAAOyB,EAAoBK,EAAI,OAAS,CAAC,MAAQ,SAAS9B,IAAUA,GAAW,IAAM,CAAC,MAAQ,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,MAItV,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAUgC,QAGnC,IAAIC,EAASL,EAAiB5B,GAAY,CACzCK,EAAGL,EACHkC,GAAG,EACHF,QAAS,IAUV,OANAlB,EAAQd,GAAUW,KAAKsB,EAAOD,QAASC,EAAQA,EAAOD,QAASN,GAG/DO,EAAOC,GAAI,EAGJD,EAAOD,QAKfN,EAAoBS,EAAI,SAAuBlC,GAC9C,IAAImC,EAAW,GAIXC,EAAY,CAAC,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,iBAAiB,GACjJR,EAAmB5B,GAAUmC,EAASvB,KAAKgB,EAAmB5B,IACzB,IAAhC4B,EAAmB5B,IAAkBoC,EAAUpC,IACtDmC,EAASvB,KAAKgB,EAAmB5B,GAAW,IAAIqC,SAAQ,SAASC,EAASC,GAIzE,IAHA,IAAIC,EAAO,QAAU,CAAC,MAAQ,SAASxC,IAAUA,GAAW,IAAM,CAAC,MAAQ,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,WAAW,iBAAiB,YAAYA,GAAW,OAC9TyC,EAAWhB,EAAoBK,EAAIU,EACnCE,EAAmBC,SAASC,qBAAqB,QAC7CxC,EAAI,EAAGA,EAAIsC,EAAiBpC,OAAQF,IAAK,CAChD,IAAIyC,EAAMH,EAAiBtC,GACvB0C,EAAWD,EAAIE,aAAa,cAAgBF,EAAIE,aAAa,QACjE,GAAe,eAAZF,EAAIG,MAAyBF,IAAaN,GAAQM,IAAaL,GAAW,OAAOH,IAErF,IAAIW,EAAoBN,SAASC,qBAAqB,SACtD,IAAQxC,EAAI,EAAGA,EAAI6C,EAAkB3C,OAAQF,IAAK,CAC7CyC,EAAMI,EAAkB7C,GACxB0C,EAAWD,EAAIE,aAAa,aAChC,GAAGD,IAAaN,GAAQM,IAAaL,EAAU,OAAOH,IAEvD,IAAIY,EAAUP,SAASQ,cAAc,QACrCD,EAAQF,IAAM,aACdE,EAAQE,KAAO,WACfF,EAAQG,OAASf,EACjBY,EAAQI,QAAU,SAASC,GAC1B,IAAIC,EAAUD,GAASA,EAAME,QAAUF,EAAME,OAAOC,KAAOjB,EACvDkB,EAAM,IAAIC,MAAM,qBAAuB5D,EAAU,cAAgBwD,EAAU,KAC/EG,EAAIE,KAAO,wBACXF,EAAIH,QAAUA,SACP5B,EAAmB5B,GAC1BkD,EAAQY,WAAWC,YAAYb,GAC/BX,EAAOoB,IAERT,EAAQV,KAAOC,EAEf,IAAIuB,EAAOrB,SAASC,qBAAqB,QAAQ,GACjDoB,EAAKC,YAAYf,MACfgB,MAAK,WACPtC,EAAmB5B,GAAW,MAMhC,IAAImE,EAAqBxD,EAAgBX,GACzC,GAA0B,IAAvBmE,EAGF,GAAGA,EACFhC,EAASvB,KAAKuD,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAI/B,SAAQ,SAASC,EAASC,GAC3C4B,EAAqBxD,EAAgBX,GAAW,CAACsC,EAASC,MAE3DJ,EAASvB,KAAKuD,EAAmB,GAAKC,GAGtC,IACIC,EADAC,EAAS3B,SAASQ,cAAc,UAGpCmB,EAAOC,QAAU,QACjBD,EAAOE,QAAU,IACb/C,EAAoBgD,IACvBH,EAAOI,aAAa,QAASjD,EAAoBgD,IAElDH,EAAOZ,IAAM7B,EAAe7B,GAG5B,IAAI2E,EAAQ,IAAIf,MAChBS,EAAmB,SAAUd,GAE5Be,EAAOhB,QAAUgB,EAAOjB,OAAS,KACjCuB,aAAaJ,GACb,IAAIK,EAAQlE,EAAgBX,GAC5B,GAAa,IAAV6E,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYvB,IAAyB,SAAfA,EAAMH,KAAkB,UAAYG,EAAMH,MAChE2B,EAAUxB,GAASA,EAAME,QAAUF,EAAME,OAAOC,IACpDiB,EAAMK,QAAU,iBAAmBhF,EAAU,cAAgB8E,EAAY,KAAOC,EAAU,IAC1FJ,EAAMM,KAAO,iBACbN,EAAMvB,KAAO0B,EACbH,EAAMnB,QAAUuB,EAChBF,EAAM,GAAGF,GAEVhE,EAAgBX,QAAWkF,IAG7B,IAAIV,EAAUW,YAAW,WACxBd,EAAiB,CAAEjB,KAAM,UAAWK,OAAQa,MAC1C,MACHA,EAAOhB,QAAUgB,EAAOjB,OAASgB,EACjC1B,SAASqB,KAAKC,YAAYK,GAG5B,OAAOjC,QAAQ+C,IAAIjD,IAIpBV,EAAoB4D,EAAIxE,EAGxBY,EAAoB6D,EAAI3D,EAGxBF,EAAoB8D,EAAI,SAASxD,EAASkD,EAAMO,GAC3C/D,EAAoBgE,EAAE1D,EAASkD,IAClC1E,OAAOmF,eAAe3D,EAASkD,EAAM,CAAEU,YAAY,EAAMC,IAAKJ,KAKhE/D,EAAoBoE,EAAI,SAAS9D,GACX,qBAAX+D,QAA0BA,OAAOC,aAC1CxF,OAAOmF,eAAe3D,EAAS+D,OAAOC,YAAa,CAAEC,MAAO,WAE7DzF,OAAOmF,eAAe3D,EAAS,aAAc,CAAEiE,OAAO,KAQvDvE,EAAoBwE,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQvE,EAAoBuE,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK7F,OAAO8F,OAAO,MAGvB,GAFA5E,EAAoBoE,EAAEO,GACtB7F,OAAOmF,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOvE,EAAoB8D,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR3E,EAAoB+E,EAAI,SAASxE,GAChC,IAAIwD,EAASxD,GAAUA,EAAOmE,WAC7B,WAAwB,OAAOnE,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAP,EAAoB8D,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR/D,EAAoBgE,EAAI,SAASgB,EAAQC,GAAY,OAAOnG,OAAOC,UAAUC,eAAeC,KAAK+F,EAAQC,IAGzGjF,EAAoBK,EAAI,+BAGxBL,EAAoBkF,GAAK,SAAShD,GAA2B,MAApBiD,QAAQjC,MAAMhB,GAAYA,GAEnE,IAAIkD,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjG,KAAK2F,KAAKM,GAC5CA,EAAWjG,KAAOf,EAClBgH,EAAaA,EAAWG,QACxB,IAAI,IAAI5G,EAAI,EAAGA,EAAIyG,EAAWvG,OAAQF,IAAKP,EAAqBgH,EAAWzG,IAC3E,IAAIU,EAAsBiG,EAI1B/F,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,iQC5OT,SAAS+F,EAAWC,EAAcC,GAChC,OAAOD,EAAKD,WAAU,SAACG,GACrB,OAAOA,EAAKC,KAAOF,EAAKE,MAI5B,IAAMC,EAAQ,eAAS,CACrBC,OAAQ,GACRC,SAAS,EACTC,YAAY,EACZC,SAAU,GACVC,aAAc,GACdzB,KAAM,OAAS0B,SACfC,cAAe,IAEXC,EAAc,gBAAe,WACjC,OAAOR,EAAMI,SAASJ,EAAMO,eAAiB,MAG/C,SAASE,EAAWR,GAClBD,EAAMC,OAASA,EAGjB,SAASS,EAAeC,GACtBX,EAAMG,WAAaQ,EAGrB,SAASC,EAAiBD,GACxBX,EAAME,QAAUS,EAGlB,SAASE,EAAajB,GACpBI,EAAMI,SAAWR,EAGnB,SAASkB,EAAiBlB,GACxBI,EAAMK,aAAeT,EAGvB,SAASmB,EAAanC,GACpBoB,EAAMpB,KAAOA,EAGf,SAASoC,EAAiBT,GACxBP,EAAMO,aAAeA,EAGvB,SAASU,EAAT,GAAkE,IAA5CrB,EAA4C,EAA5CA,KAAMsB,EAAsC,EAAtCA,MAE1B,GADAJ,EAAgBlB,GACZI,EAAMpB,OAAS,OAASuC,OAAQ,CAClC,IAAIC,EAAa,eAAQxB,GACzBiB,EAAYO,GACZF,EAAQvB,EAAUyB,EAAYxB,EAAKsB,SAEnCL,EAAYjB,GAEdiB,EAAYjB,GACZoB,EAAgBE,GAChBR,GAAc,GACdE,GAAgB,GAGlB,SAASS,EAAYzB,GACnBmB,EAAY,OAASI,QACrBL,EAAgBlB,GAChB,IAAIwB,EAAa,eAAQxB,GACzBiB,EAAYO,GACZJ,EAAgB,GAChBN,GAAc,GACdE,GAAgB,GAGlB,SAASU,EAAYzB,GACnB,IAAIO,EAAWJ,EAAMI,SAASV,QAC1BW,EAAeL,EAAMK,aAAaX,QAClCa,EAAeP,EAAMO,aAErBC,EAAcJ,EAASG,GAEvBgB,EAAU5B,EAAUS,EAAUP,GAElCU,IAEAH,EAASlG,OAAOqG,EAAc,EAAGV,GAE7B0B,GAAW,IAEThB,EAAegB,GACjBnB,EAASlG,OAAOqH,EAAS,GACzBhB,KAEAH,EAASlG,OAAOqH,EAAU,EAAG,IAIjC,IAAIC,EAAgB7B,EAAUU,EAAcG,GAAe,EAEvDiB,EAAU9B,EAAUU,EAAcR,GAEtCQ,EAAanG,OAAOsH,EAAe,EAAG3B,GAElC4B,GAAW,IACTD,EAAgBC,EAClBpB,EAAanG,OAAOuH,EAAS,GAE7BpB,EAAanG,OAAOuH,EAAU,EAAG,IAGrCZ,EAAYT,GACZU,EAAgBT,GAChBW,EAAgBT,GAChBG,GAAc,GACdE,GAAgB,GAGX,IAAMc,EAAelD,SACfmD,EAAiB,WAC5B,eAAQD,EAAc,CACpB1B,QACAQ,cACAC,YACAC,gBACAG,cACAC,kBACAC,cACAC,kBACAC,aACAL,kBACAS,aACAC,gBAGSM,EAAkB,WAE7B,IAAMC,EAAgB,eAAsBH,GAC5C,IAAKG,EACH,MAAM,IAAIvF,MAAJ,+DAER,OAAOuF,I,oFCxKT,W,oCCAA,W,yGCCA,SAASC,EAAcC,EAAaC,GAClC,OAAOC,KAAKC,MAAMD,KAAKd,UAAYa,EAAMD,EAAM,GAAKA,GAGhD,SAAUI,EAASC,GAEvB,IADA,IAAIC,EAAOD,EAAI1C,QACN5G,EAAI,EAAGA,EAAIuJ,EAAKrJ,OAAQF,IAAK,CACpC,IAAIkB,EAAI8H,EAAa,EAAGhJ,GACpB6F,EAAI0D,EAAKvJ,GACbuJ,EAAKvJ,GAAKuJ,EAAKrI,GACfqI,EAAKrI,GAAK2E,EAEZ,OAAO0D,I,uBCbT3H,EAAOD,QAAU,IAA0B,4B,kCCA3C,W,yDCAA,W,kCCAA,IAAY6H,EAAZ,2CAAYA,GACV,8BACA,sBACA,0BAHF,CAAYA,MAAQ,M,kCCApB,W,qSCCE,eAAqB,GACrB,eAAW,GACX,eAIc,Q,wBAHZ,gBADoBC,EACpB,EADoBA,UACpB,MAD6B,E,iBAC7B,eAEa,c,iBADX,eAAiE,eAAjDA,GAAS,CAAGC,MAAO,EAAAC,kBAAgB,oB,iBAGvD,eAAiB,I,iGCPZC,MAAM,Y,EACT,eAAwB,OAAnBA,MAAM,QAAM,S,EACjB,eAAmC,MAA/BA,MAAM,QAAO,iBAAa,G,EAE5B,eAAyB,KAAtBA,MAAM,aAAW,S,oGAJxB,eAMM,MANN,EAMM,CALJ,EACA,EACA,eAEc,GAFDnH,IAAI,MAAMmH,MAAM,OAAOC,GAAG,S,YACrC,iBAAyB,CAAzB,M,WAMS,GACbhF,KAAM,Y,UCPR,EAAOiF,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,qGCPRH,MAAM,O,GAEDA,MAAM,Y,oGAFhB,eAIM,MAJN,EAIM,E,mBAHJ,eAEc,2BAFyC,EAAAI,SAAO,SAAfhD,G,wBAA/C,eAEc,GAFDvE,IAAI,MAAMmH,MAAM,WAAoC1D,IAAKc,EAAK6C,GAAKA,GAAI7C,EAAK6C,I,YACvF,iBAA2C,CAA3C,eAA2C,OAA3C,EAA2C,eAAlB7C,EAAKnC,MAAI,O,wDCKzB,iBAAgB,CAC7BA,KAAM,MACNoF,MAF6B,WAG3B,IAAM/C,EAAQ,eAAS,CACrB8C,QAAS,CACP,CAACnF,KAAM,KAAMgF,GAAI,cACjB,CAAChF,KAAM,KAAMgF,GAAI,WACjB,CAAChF,KAAM,KAAMgF,GAAI,SACjB,CAAChF,KAAM,KAAMgF,GAAI,cAGrB,yBACK,eAAO3C,O,UCfhB,EAAO4C,OAAS,EAChB,EAAOC,UAAY,kBAEJ,Q,6ECPRH,MAAM,U,GAKFA,MAAM,iB,GACJA,MAAM,c,GAGNA,MAAM,O,EAEP,eAAyB,KAAtBA,MAAM,aAAW,S,GAUjBA,MAAM,WAAWM,IAAI,iB,GACnBN,MAAM,aAAaM,IAAI,a,GACrBN,MAAM,M,GAIRA,MAAM,yB,GACJA,MAAM,iB,GAIRA,MAAM,iB,aAQVA,MAAM,U,GACJA,MAAM,e,GAINA,MAAM,oB,GACHA,MAAM,e,GACPA,MAAM,wB,GAGLA,MAAM,e,GAETA,MAAM,a,EAaT,eAEM,OAFDA,MAAM,mBAAiB,CAC1B,eAAsC,KAAnCA,MAAM,6B,MAQVA,MAAM,Q,GACJA,MAAM,aAAaM,IAAI,e,GAIzBN,MAAM,Q,GAINA,MAAM,W,EAKX,eAEM,OAFDA,MAAM,WAAS,CAClB,eAA6B,KAA1BA,MAAM,oB,uLAzFjB,eA+FM,MA/FN,EA+FM,CA9FJ,eAsEa,QAtED/E,KAAK,SAAU,QAAO,EAAAsF,MACrB,gBAAa,EAAAC,WACb,QAAO,EAAAC,MACP,gBAAa,EAAAC,Y,YACxB,iBAiEM,C,eAjEN,eAiEM,MAjEN,EAiEM,CAhEJ,eAEM,MAFN,EAEM,CADJ,eAA4F,OAAvFC,MAAM,OAAOC,OAAO,OAAOd,MAAA,6BAAoCpG,IAAK,EAAAoE,YAAY+C,O,kBAEvF,eAMM,MANN,EAMM,CALJ,eAEM,OAFDb,MAAM,OAAQ,QAAK,8BAAE,EAAAc,KAAA,sB,CACxB,IAEF,eAAiD,MAA7Cd,MAAM,QAAQ,UAAQ,EAAAlC,YAAY7C,M,sBACtC,eAAsD,MAAlD+E,MAAM,WAAW,UAAQ,EAAAlC,YAAYP,Q,wBAE3C,eAuBM,OAvBDyC,MAAM,SACL,aAAU,8CAAU,EAAAe,iBAAA,qBAAgB,cACpC,YAAS,8CAAU,EAAAC,gBAAA,qBAAe,cAClC,WAAQ,8CAAU,EAAAC,eAAA,qBAAc,e,CAEpC,eASM,MATN,EASM,CARJ,eAIM,MAJN,EAIM,CAHJ,eAEM,MAFN,EAEM,CADJ,eAA2D,OAArDvH,IAAK,EAAAoE,YAAY+C,MAAOb,MAAK,CAAC,QAAgB,EAAAkB,Q,yBAGxD,eAEM,MAFN,EAEM,CADJ,eAAiD,MAAjD,EAAiD,eAApB,EAAAC,cAAY,M,KAG7C,eAOS,GAPDnB,MAAM,WAAWM,IAAI,gB,YAC3B,iBAKM,CALN,eAKM,MALN,EAKM,CAJO,EAAAc,c,iBAAX,eAGM,U,mBAFJ,eAC8D,2BAApC,EAAAA,aAAaC,OAAK,SAAjCC,EAAK9C,G,wBADhB,eAC8D,KAD1D8B,IAAK,SAAAiB,GAAK,EAAAC,aAAahD,GAAO+C,GAAKvB,MAAK,CAAC,OAAM,SAAkB,EAAAyB,iBAAiBjD,K,eACtC8C,EAAKI,KAAG,M,oDAKhE,eA6BM,MA7BN,EA6BM,CA5BJ,eAGM,MAHN,EAGM,CAFJ,eAA4D,OAAvD1B,MAAK,CAAC,MAAK,QAA4B,OAAX,EAAA2B,e,QACjC,eAA+D,OAA1D3B,MAAK,CAAC,MAAK,QAA4B,UAAX,EAAA2B,e,UAEnC,eAMM,MANN,EAMM,CALJ,eAA4D,OAA5D,EAA4D,eAAhC,EAAAC,WAAW,EAAAC,cAAW,GAClD,eAEM,MAFN,EAEM,CADJ,eAAsF,GAAvEC,QAAS,EAAAA,QAAU,mBAAgB,EAAAC,qB,yCAEpD,eAAqE,OAArE,EAAqE,eAAzC,EAAAH,WAAW,EAAA9D,YAAYkE,WAAQ,KAE7D,eAgBM,MAhBN,EAgBM,CAfJ,eAEM,OAFDhC,MAAM,cAAe,QAAK,8BAAE,EAAAiC,WAAA,sB,CAC/B,eAAyB,KAArBjC,MAAO,EAAAkC,UAAQ,UAErB,eAEM,OAFDlC,MAAK,CAAC,cAAsB,EAAAmC,a,CAC/B,eAAuC,KAApCnC,MAAM,YAAa,QAAK,8BAAE,EAAAoC,KAAA,wB,GAE/B,eAEM,OAFDpC,MAAK,CAAC,gBAAwB,EAAAmC,a,CACjC,eAA6C,KAAzCnC,MAAO,EAAAqC,SAAW,QAAK,8BAAE,EAAAC,WAAA,sB,YAE/B,eAEM,OAFDtC,MAAK,CAAC,eAAuB,EAAAmC,a,CAChC,eAAuC,KAApCnC,MAAM,YAAa,QAAK,8BAAE,EAAAuC,KAAA,wB,GAE/B,O,cA5D6B,EAAA9E,kB,8DAmErC,eAoBa,QApBDxC,KAAK,QAAM,C,WACrB,iBAkBM,C,eAlBN,eAkBM,OAlBD+E,MAAM,cAAoC,QAAK,gCAAE,EAAAwC,KAAA,sB,CACpD,eAIM,MAJN,EAIM,CAHJ,eAEM,MAFN,EAEM,CADJ,eAAoE,OAA/D7B,MAAM,KAAKC,OAAO,KAAMlH,IAAK,EAAAoE,YAAY+C,MAAQb,MAAO,EAAAkB,O,yBAGjE,eAGM,MAHN,EAGM,CAFJ,eAAgD,MAA5ClB,MAAM,OAAO,UAAQ,EAAAlC,YAAY7C,M,sBACrC,eAAgD,KAA7C+E,MAAM,OAAO,UAAQ,EAAAlC,YAAYP,Q,wBAEtC,eAIM,MAJN,EAIM,CAHJ,eAEkB,GAFAkF,OAAQ,GAAKX,QAAS,EAAAA,S,YACtC,iBAAwE,CAAxE,eAAwE,KAApE9B,MAAK,CAAE,EAAA0C,aAAoB,aAAa,QAAK,8CAAO,EAAAJ,WAAA,qBAAU,Y,kCAGtE,G,eAfgC,EAAA7E,kB,MAoBpC,eAC4B,SADpB/D,IAAK,EAAAoE,YAAY6E,IAAKrC,IAAI,QAAS,UAAO,gCAAE,EAAAsC,MAAA,qBAAQ,QAAK,gCAAE,EAAAjI,MAAA,qBAAQ,aAAU,gCAAE,EAAAkI,WAAA,qBAC/E,QAAK,gCAAE,EAAAC,IAAA,sB,iCA9FW,EAAApF,SAASpH,a,2CCEjC,EAAY,eAAI,IAEtB,SAAS,GAAOiL,EAAiBwB,GAAyB,MAClCC,KAAfC,EADiD,EACjDA,EAAGC,EAD8C,EAC9CA,EAAGC,EAD2C,EAC3CA,MAEPC,EAAY,CAChBC,EAAG,CACDC,UAAW,eAAF,OAAiBL,EAAjB,cAAwBC,EAAxB,uBAAwCC,EAAxC,MAEXI,GAAI,CACFD,UAAW,iCAEbE,IAAK,CACHF,UAAW,gCAIf,EAAAG,EAAWC,kBAAkB,CAC3BzI,KAAM,OACNmI,YACAO,QAAS,CACP3B,SAAU,IACV4B,OAAQ,YAIZ,EAAAH,EAAWI,aAAa,EAAU7H,MAAO,OAAQ+G,GAGnD,SAAS,KACP,EAAAU,EAAWK,oBAAoB,QAC/B,EAAU9H,MAAM8D,MAAMsD,UAAY,GAGpC,SAAS,GAAO7B,EAAiBwB,GAAS,MAClBC,KAAfC,EADiC,EACjCA,EAAGC,EAD8B,EAC9BA,EAAGC,EAD2B,EAC3BA,MACb,EAAUnH,MAAM8D,MAAMiE,WAAa,WACnC,EAAU/H,MAAM8D,MAAMwD,UAAtB,uBAAkDL,EAAlD,cAAyDC,EAAzD,uBAAyEC,EAAzE,KACA,EAAUnH,MAAMgI,iBAAiB,gBAAiBjB,GAGpD,SAAS,KACP,EAAU/G,MAAM8D,MAAMiE,WAAa,GACnC,EAAU/H,MAAM8D,MAAMwD,UAAY,GAGpC,SAASN,KACP,IAAMiB,EAAc,GACdC,EAAc,GACdC,EAAgB,GAChBC,EAAa,GACbzD,EAA4B,GAApB7D,OAAOuH,WACflB,EAAQc,EAActD,EACtBsC,GAAMnG,OAAOuH,WAAa,EAAKH,EAC/BhB,EAAIpG,OAAOwH,YAAcF,EAAazD,EAAQ,EAAIwD,EACxD,MAAO,CACLlB,IAAGC,IAAGC,SAII,SAAUoB,KACtB,MAAO,CACLhE,MAAA,GACAC,WAAA,GACAC,MAAA,GACAC,WAAA,GACA8D,UAAA,G,6GC/DE,SAAUC,GAASC,EAA8BpH,EAAqBQ,EAAgC6G,GAE1G,gBAAM,kBAAM7G,EAAY9B,QAAnB,0DAA0B,WAAO4I,EAASC,GAAhB,oFACxBD,EAAQvH,IAAOuH,EAAQjC,KAAOiC,EAAQvH,KAAOwH,EAAQxH,GAD7B,iEAK3BqH,EAAM1I,MAAMtC,IAAMkL,EAAQjC,IALC,SAMrB+B,EAAM1I,MAAM8I,OANS,0DAQ3BlI,QAAQmI,IAAR,MAR2B,yDAA1B,yDAWL,gBAAO,kBAAMzH,EAAME,WAAU,SAACwH,GAC5BA,EAAaN,EAAM1I,MAAM8I,OAASJ,EAAM1I,MAAMiJ,WAEhD,IAAM5C,EAAW,gBAAS,WACxB,OAAO/E,EAAME,QAAU,aAAe,eAElCkF,EAAe,gBAAS,WAC5B,OAAOpF,EAAME,QAAU,kBAAoB,oBAEvC0D,EAAQ,gBAAS,WACrB,OAAO5D,EAAME,QAAU,OAAS,MAE5B2E,EAAa,gBAAS,WAC1B,OAAOwC,EAAU3I,MAAQ,GAAK,aAE1BkG,EAAW,gBAAS,WAAK,MACvBgD,GAAG,uBACN,QAAStH,SAAW,iBADd,kBAEN,QAASuH,KAAO,aAFV,kBAGN,QAAS1G,OAAS,eAHZ,GAKT,OAAOyG,EAAI5H,EAAMpB,SAEnB,MAAO,CAELmG,WACAK,eACAxB,QACAiB,aACAD,YAKE,SAAUkD,GAAUT,GACxB,SAAS/B,IACP+B,EAAU3I,OAAQ,EAGpB,SAASrB,IACPgK,EAAU3I,OAAQ,EAGpB,MAAO,CACL2I,YACA/B,QACAjI,SAIE,SAAU0K,KACd,IAAMxD,EAAc,eAAI,GAExB,SAASgB,EAAY3K,GACnB,IAAMuB,EAASvB,EAAEuB,OACjBoI,EAAY7F,MAAQvC,EAAOoI,YAG7B,SAASD,EAAY0D,GACnBA,GAAsB,EACtB,IAAMC,EAASD,EAAW,GAAK,EACzBE,EAASF,EAAW,GAC1B,gBAAUC,EAAV,YAAoBC,EAAOC,WAAWC,SAAS,EAAG,MAGpD,MAAO,CACL7D,cACAgB,aACAjB,cASE,SAAU+D,GAAU7H,EAAgCR,GACxD,IAAMsI,EAAa,eAAS,CAC1BxE,aAAc,KACdK,eAAgB,EAChBN,aAAc,KAEV0E,EAAe,eAAI,IACnBrE,EAAe,eAAI,IACnBsE,EAAc,SAAC,GAAoD,IAAnDC,EAAmD,EAAnDA,QAASrE,EAA0C,EAA1CA,IAE7B,GADAkE,EAAWnE,eAAiBsE,EACxBA,EAAU,EAAG,CACf,IAAIC,EAASxE,EAAaxF,MAAM+J,EAAU,GAE1CF,EAAa7J,MAAMiK,gBAAgBD,EAAQ,UAE3CH,EAAa7J,MAAMkK,SAAS,EAAG,EAAG,KAEpCN,EAAWzE,aAAeO,GAsB5B,OAnBA,gBAAM,kBAAM5D,EAAY9B,QAAnB,0DAA0B,WAAO4I,EAASC,GAAhB,0FACzBD,EAAQvH,KAAOwH,EAAQxH,GADE,wDAIzBuI,EAAWxE,cACbwE,EAAWxE,aAAa+E,OALG,kBAQPrI,EAAY9B,MAAMoK,WARX,OAQrBC,EARqB,OAS3BT,EAAWxE,aAAe,IAAI,KAAMiF,EAAOP,GACvCxI,EAAME,SACRoI,EAAWxE,aAAa0D,KAAK,GAXJ,qDAc3Bc,EAAWxE,aAAe,KAC1BwE,EAAWnE,eAAiB,EAC5BmE,EAAWzE,aAAe,GAhBC,0DAA1B,yDAmBE,CACLyE,aACAC,eACArE,gBAYE,SAAU8E,GAAST,GACvB,IAAMlE,EAAc,eAAI,MAClB4E,EAAa,GACbC,EAAgB,eAAI,IACpBzF,EAAmB,SAAC7I,GACxBqO,EAAWE,WAAY,EACvBF,EAAWG,OAASxO,EAAEyO,QAAQ,GAAGC,MACjCL,EAAWM,OAAS3O,EAAEyO,QAAQ,GAAGG,OAE7B9F,EAAkB,SAAC9I,GACvB,GAAKqO,EAAWE,UAAhB,CAGA,IAAMM,EAAQ7O,EAAEyO,QAAQ,GAClBK,EAASD,EAAMH,MAAQL,EAAWG,OAClCO,EAASF,EAAMD,MAAQP,EAAWM,OACxC,KAAItH,KAAK2H,IAAID,GAAU1H,KAAK2H,IAAIF,IAAhC,CAGA,IAAMG,EAA6B,OAAtBxF,EAAY3F,MAAiB,GAAKc,OAAOuH,WAChD1D,EAAQpB,KAAKF,IAAIE,KAAKD,KAAKxC,OAAOuH,WAAY8C,EAAOH,GAAS,GACpET,EAAWzE,QAAUvC,KAAK2H,IAAIvG,EAAQ7D,OAAOuH,YAC7CwB,EAAa7J,MAAMoL,IAAItH,MAAMwD,UAA7B,sBAAwD3C,EAAxD,WACAkF,EAAa7J,MAAMoL,IAAItH,MAAMuH,mBAAqB,EAClDb,EAAcxK,MAAM8D,MAAMwH,QAA1B,UAAuC,EAAIf,EAAWzE,YAGlDb,EAAiB,WACrB,IAAIsG,EACAD,EACsB,OAAtB3F,EAAY3F,MACVuK,EAAWzE,QAAU,IACvByF,GAAezK,OAAOuH,WACtBiD,EAAU,EACV3F,EAAY3F,MAAQ,UAEpBuL,EAAc,EACdD,EAAU,GAGRf,EAAWzE,QAAU,IACvByF,EAAc,EACd5F,EAAY3F,MAAQ,KACpBsL,EAAU,IAEVC,GAAezK,OAAOuH,WACtBiD,EAAU,GAGdzB,EAAa7J,MAAMoL,IAAItH,MAAMwD,UAA7B,sBAAwDiE,EAAxD,WACA1B,EAAa7J,MAAMoL,IAAItH,MAAMuH,mBAAqB,QAClDb,EAAcxK,MAAM8D,MAAMwH,QAA1B,UAAuCA,IAEzC,MAAO,CACL3F,cACAZ,mBACAC,kBACAC,iBACAuF,iB,mFC9MKxG,MAAM,a,GAQP,eAAgC,OAA3BA,MAAM,gBAAc,S,kEAT/B,eAYM,OAZDA,MAAM,eAAeM,IAAI,cAAe,QAAK,8BAAE,EAAAkH,cAAA,sB,CAClD,eAUM,MAVN,GAUM,CATJ,eAA+E,OAA1ExH,MAAM,WAAWM,IAAI,WAAYR,MAAK,iBAAY,EAAAyH,YAAZ,Q,QAC3C,eAOM,OAPDvH,MAAM,uBAAuBM,IAAI,cAChCR,MAAK,iCAA4B,EAAAyH,YAA5B,YACL,aAAU,8CAAU,EAAAE,mBAAA,qBAAkB,cACtC,YAAS,8CAAU,EAAAC,kBAAA,qBAAiB,cACpC,WAAQ,8CAAU,EAAAC,iBAAA,qBAAgB,e,CAEtC,I,eCHFC,I,UAAmB,IACV,kBAAgB,CAC7B3M,KAAM,eACN4M,MAAO,CACL/F,QAAS,CACP1I,KAAM0O,OACNC,QAAS,IAGb1H,MAR6B,SAQtBwH,EARsB,GAQT,IAALG,EAAK,EAALA,KACPC,EAAc,eAAI,IAClBC,EAAW,eAAI,IACfC,EAAc,eAAI,IAClBC,EAAa,eAAI,GACvB,gBAAO,kBAAMP,EAAM/F,WAAU,SAACuG,GACxBtB,EAAMN,WAGN4B,EAAa,IACfD,EAAWpM,MAAQqM,MAGvB,IAAMd,EAAc,eAAS,CAC3B3L,IAAK,WACH,IAAM0M,EAAWL,EAAYjM,MAAMuM,YAAcX,GACjD,OAAOU,EAAWF,EAAWpM,OAE/BwM,IAAK,SAACC,GACJ,IAAMH,EAAWL,EAAYjM,MAAMuM,YAAcX,GAC3C9F,EAAU2G,EAAMH,EACtBF,EAAWpM,MAAQ8F,KAGjBiF,EAAQ,eAAS,IACvB,SAASU,EAAoBvP,GAC3B6O,EAAMN,WAAY,EAClBM,EAAML,OAASxO,EAAEyO,QAAQ,GAAGC,MAC5BG,EAAMI,KAAOe,EAASlM,MAAMuM,YAE9B,SAASb,EAAmBxP,GAC1B,GAAK6O,EAAMN,UAAX,CAIA,IAAMO,EAAS9O,EAAEyO,QAAQ,GAAGC,MAAQG,EAAML,OAC1Ca,EAAYvL,MAAQuD,KAAKF,IAAI4I,EAAYjM,MAAMuM,YAAcX,GAAkBrI,KAAKD,IAAI,EAAGyH,EAAMI,KAAOH,KAE1G,SAASW,EAAkBzP,GACzB6O,EAAMN,WAAY,EAClBiC,IAEF,SAASA,IACP,IAAMJ,EAAWL,EAAYjM,MAAMuM,YAAcX,GAC3C9F,EAAUoG,EAASlM,MAAMuM,YAAcD,EAC7CN,EAAK,iBAAkBlG,GAEzB,SAAS0F,EAAetP,GACtB6O,EAAMN,WAAY,EAClB,IAAMkC,EAAOV,EAAYjM,MAAM4M,wBAC/BrB,EAAYvL,MAAQ9D,EAAE0O,MAAQ+B,EAAKxB,KACnC,gBAAS,WACPuB,IACA3B,EAAMN,WAAY,KAGtB,MAAO,CACLwB,cACAC,WACAC,cACAZ,cACAE,qBACAC,oBACAC,mBACAH,oB,UC3EN,GAAOtH,OAAS,GAChB,GAAOC,UAAY,kBAEJ,U,+ECPRH,MAAM,mB,IACHW,MAAO,GAAKC,OAAQ,GAAIiI,QAAQ,cAAcC,QAAQ,MAAMC,MAAM,8B,GACtE,eAA+E,UAAvE/I,MAAM,sBAAsBnE,EAAE,KAAKmN,GAAG,KAAKC,GAAG,KAAKC,KAAK,e,2EAFpE,eAcM,MAdN,GAcM,E,iBAbJ,eAWM,MAXN,GAWM,CAVJ,GACA,eAQE,UAPElJ,MAAM,eACNnE,EAAE,KACFmN,GAAG,KACHC,GAAG,KACHC,KAAK,cACJC,mBAAkB,EAAAC,UAClBC,oBAAmB,EAAAC,Y,oDAG1B,eAAa,yBCXF,kBAAgB,CAC7BrO,KAAM,kBACN4M,MAAO,CACLpF,OAAQ,CACNrJ,KAAM0O,OACNC,QAAS,KAEXjG,QAAS,CACP1I,KAAM0O,OACNC,QAAS,IAGb1H,MAZ6B,SAYtBwH,GACL,IAAMuB,EAAsB,IAAV7J,KAAKgK,GACjBD,EAAa,gBAAS,WAC1B,OAAQ,EAAIzB,EAAM/F,SAAWsH,KAE/B,MAAO,CACLE,aACAF,gB,UCjBN,GAAOlJ,OAAS,GAChB,GAAOC,UAAY,kBAEJ,U,0BCGA,kBAAgB,CAC7BlF,KAAM,SACNoF,MAF6B,WAG3B,IAAMqE,EAAQ,eAAI,MACZC,EAAY,gBAAI,GAFnB,EAGqG,iBAAjGrH,EAHJ,EAGIA,MAAOQ,EAHX,EAGWA,YAAaE,EAHxB,EAGwBA,cAAeE,EAHvC,EAGuCA,gBAAiBI,EAHxD,EAGwDA,gBAAiBD,EAHzE,EAGyEA,YAAaF,EAHtF,EAGsFA,YAHtF,EAI2DsG,GAAQC,EAAOpH,EAAOQ,EAAa6G,GAA1FtC,EAJJ,EAIIA,SAAUK,EAJd,EAIcA,aAAcxB,EAJ5B,EAI4BA,MAAOiB,EAJnC,EAImCA,WAAYD,EAJ/C,EAI+CA,SAJ/C,EAKoBkD,GAAST,GAAzB/B,EALJ,EAKIA,MAAOjI,EALX,EAKWA,MALX,EAMuD4J,KAAnDhE,EANJ,EAMIA,MAAOC,EANX,EAMWA,WAAYC,EANvB,EAMuBA,MAAOC,EAN9B,EAM8BA,WAAY8D,EAN1C,EAM0CA,UAN1C,EAO2Ca,KAAvCxD,EAPJ,EAOIA,YAAagB,EAPjB,EAOiBA,WAAYjB,EAP7B,EAO6BA,WAP7B,EAQ+C+D,GAAS7H,EAAaR,GAAjEsI,EARJ,EAQIA,WAAYC,EARhB,EAQgBA,aAAcrE,EAR9B,EAQ8BA,aAR9B,EAcC8E,GAAQT,GAJVlE,EAVC,EAUDA,YAAaZ,EAVZ,EAUYA,iBACbC,EAXC,EAWDA,gBACAC,EAZC,EAYDA,eACAuF,EAbC,EAaDA,cAEI1E,EAAU,gBAAS,WACvB,OAAOD,EAAY7F,MAAQ8B,EAAY9B,MAAMgG,YAG/C,SAASlB,IACP9C,GAAc,GAGhB,SAASwE,IACPxE,GAAc,GAKhB,IAAMsE,EAAa,WACVqC,EAAU3I,QAGfkC,GAAiBZ,EAAME,SACnBoI,EAAWxE,cACbwE,EAAWxE,aAAakB,eAKxBC,EAAO,WACX,IAAI/D,EAAQlB,EAAMO,aAAe,EACH,IAA1BP,EAAMI,SAASpH,OACjB6O,KAEI3G,IAAUlB,EAAMI,SAASpH,SAC3BkI,EAAQ,GAEVF,EAAgBE,GACXlB,EAAME,SACT8E,KAGJqC,EAAU3I,OAAQ,GAIdoG,EAAO,WACX,GAAKuC,EAAU3I,MAAf,CAGA,GAA8B,IAA1BsB,EAAMI,SAASpH,OACjB6O,QACK,CACL,IAAI3G,EAAQlB,EAAMO,aAAe,GAClB,IAAXW,IACFA,EAAQlB,EAAMI,SAASpH,OAAS,GAElCgI,EAAgBE,GACXlB,EAAME,SACT8E,IAGJqC,EAAU3I,OAAQ,IAGd8G,EAAM,WACNxF,EAAMpB,OAAS,QAASiJ,KAC1BA,IAEA5C,KAIE4C,EAAO,WACXT,EAAM1I,MAAM6F,YAAc,EAC1B6C,EAAM1I,MAAM8I,OACRc,EAAWxE,cACbwE,EAAWxE,aAAaoI,KAAK,IAKjC,SAASvH,IACP,IAAM/F,GAAQoB,EAAMpB,KAAO,GAAK,EAChCmC,EAAYnC,GACZ,IAAIgB,EAAO,GAETA,EADEhB,IAAS,QAASuC,OACb,gBAAQnB,EAAMK,cAEdL,EAAMK,aAEf8L,EAAkBvM,GAClBiB,EAAYjB,GAId,SAASuM,EAAmBvM,GAC1B,IAAIsB,EAAQtB,EAAKD,WAAU,SAACG,GAC1B,OAAOA,EAAKC,KAAOS,EAAY9B,MAAMqB,MAEvCiB,EAAgBE,GAGlB,SAASuD,EAAqBD,GAC5B,IAAMD,EAAc/D,EAAY9B,MAAMgG,SAAWF,EACjD4C,EAAM1I,MAAM6F,YAAcA,EACrBvE,EAAME,SACT8E,IAEEsD,EAAWxE,cACbwE,EAAWxE,aAAaoI,KAAmB,IAAd3H,GAQjC,OAHA,gBAAe,WACbL,EAAaxF,MAAQ,MAEvB,gDACK,eAAOsB,IADZ,IAEEQ,cACAgD,OACA0B,OACAjC,QACAC,aACAC,QACAC,aACA8D,YACAE,QACApC,aAEAD,WACAK,eACAxB,QACAiB,aACAD,WAEAK,OACAH,OACAH,aACAa,MAEA6B,YAAW/B,QAAOjI,QAElBkH,cAAagB,aAAYjB,aACzBE,UACAC,uBACG,eAAO6D,IA7BZ,IA8BEC,eACArE,eACAG,cACAZ,mBACAC,kBACAC,iBACAuF,mBAGJkD,WAAY,CACVC,eAAA,GACAC,YAAA,GACAC,OAAA,W,UCnLJ,GAAO3J,OAAS,EAChB,GAAOC,UAAY,kBAEJ,UCDA,kBAAgB,CAC7BuJ,WAAY,CAACI,QAAA,EAASC,IAAA,EAAKC,OAAA,IAC3BlU,KAF6B,WAG3B,MAAM,CACJmU,MAAO,QAGX5J,MAP6B,WAQ3B,iBADG,MAEa,iBAAT/C,EAFJ,EAEIA,MACDyC,EAAmB,gBAAS,WAChC,MAAO,CACLmK,OAAQ5M,EAAMI,SAASpH,OAAS,OAAS,QAG7C,MAAO,CACLyJ,uBCpBN,GAAOG,OAAS,EAED,U,aCFTiK,GAA2B,CAC/B,CACEC,KAAM,IACNC,SAAU,cAEZ,CACED,KAAM,QACNnP,KAAM,OAINqP,UAAW,kBAAM,kDAEnB,CACEF,KAAM,UACNE,UAAW,kBAAM,sFACjBC,SAAU,CACR,CACEH,KAAM,MACNE,UAAW,kBAAM,+GAIvB,CACEF,KAAM,UACNE,UAAW,kBAAM,sFACjBC,SAAU,CACR,CACEH,KAAM,MACNE,UAAW,kBAAM,+GAIvB,CACEF,KAAM,aACNE,UAAW,kBAAM,sFACjBC,SAAU,CACR,CACEH,KAAM,OACNE,UAAW,kBAAM,yFAIvB,CACEF,KAAM,SACNnP,KAAM,QAINqP,UAAW,kBAAM,0CAIfE,GAAS,gBAAa,CAC1BC,QAAS,kBACTN,YAGa,M,aC3DA,mBAAY,CACzB7M,MAAO,GACPoN,UAAW,GACXC,QAAS,GACT9T,QAAS,K,uBCCC,eAAU+T,IAEnBC,IAAI,IACJA,IAAIC,IACJD,IAAI,QAAY,CACfE,QAAS,EAAQ,UAElBC,MAAM,S,qDCbFhL,MAAM,mBAAmBM,IAAI,W,GAC3BN,MAAM,kB,wCADb,eAKM,MALN,EAKM,CAJJ,eAEM,MAFN,EAEM,CADJ,eAAa,uB,6CCEnB,OAAQ6K,IAAI,QAGG,qBAAgB,CAC7B5P,KAAM,SACN4M,MAAO,CACLoD,aAAc,CACZ7R,KAAM8R,QACNnD,SAAS,IAOb1H,MAZ6B,SAYtBwH,EAZsB,GAYT,IAALG,EAAK,EAALA,KACPmD,EAAU,eAAI,IAChBC,EAAS,KAEb,SAASlF,IACPkF,GAAUA,EAAOlF,SAASjP,MAAMmU,EAAQC,WAG1C,SAASpF,IACPmF,GAAUA,EAAOnF,gBAAgBhP,MAAMmU,EAAQC,WAgBjD,OAbA,gBAAU,WACRD,EAAS,IAAI,OAAQD,EAAQnP,MAAO,CAClCsP,YAAY,EACZC,OAAO,EACPN,aAAcpD,EAAMoD,aACpBO,UAAW,IAET3D,EAAMoD,cACRG,EAAOK,GAAG,UAAU,SAACC,GACnB1D,EAAK,SAAU0D,SAId,CACLP,UACAjF,WACAD,kBACAmF,aC9CN,EAAOlL,OAASA,EAED,U",
  "file": "js/app.e2983950.js",
  "sourcesContent": [
    " \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"3bc4d762\",\"chunk-45036ba2\":\"b77e92b8\",\"chunk-a888c918\":\"37db1361\",\"chunk-65a51d9f\":\"368c61a8\",\"chunk-741f5406\":\"8f49ce40\",\"chunk-0e9883e4\":\"5df936c0\",\"chunk-5ce6cdd5\":\"7a16c505\",\"chunk-7856add4\":\"9e4f0ace\",\"chunk-f72fed40\":\"a7e7f237\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-45036ba2\":1,\"chunk-a888c918\":1,\"chunk-65a51d9f\":1,\"chunk-0e9883e4\":1,\"chunk-5ce6cdd5\":1,\"chunk-7856add4\":1,\"chunk-f72fed40\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"31d6cfe0\",\"chunk-45036ba2\":\"6d027a41\",\"chunk-a888c918\":\"1b778130\",\"chunk-65a51d9f\":\"43b1d976\",\"chunk-741f5406\":\"31d6cfe0\",\"chunk-0e9883e4\":\"75244466\",\"chunk-5ce6cdd5\":\"272bc01d\",\"chunk-7856add4\":\"02a3c705\",\"chunk-f72fed40\":\"f60f9406\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://oss.noob6.com/music/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n",
    "import { computed, ComputedRef, inject, provide, reactive } from 'vue'\r\nimport { playMode } from 'common/js/config'\r\nimport Singer from \"common/js/singer\"\r\nimport { shuffle } from \"common/js/util\"\r\nimport Song from \"common/js/song\"\r\n\r\n\r\nexport type PlayerContext = {\r\n  state: {\r\n    singer: Singer\r\n    playing: boolean\r\n    fullScreen: boolean\r\n    playlist: Song[]\r\n    sequenceList: Song[]\r\n    mode: playMode\r\n    currentIndex: number\r\n  }\r\n  currentSong: ComputedRef<Song>\r\n  setSinger: (singer: Singer) => void\r\n  setFullScreen: (flag: boolean) => void\r\n  setPlayingState: (flag: boolean) => void\r\n  setPlayList: (list: Song[]) => void\r\n  setSequenceList: (list: Song[]) => void\r\n  setPlayMode: (mode: playMode) => void\r\n  setCurrentIndex: (index: number) => void\r\n  selectPlay: ({list, index}: { index: number, list: any[] }) => void\r\n  randomPlay: (list: Song[]) => void\r\n  insertSong: (song: Song) => void\r\n}\r\n\r\nfunction findIndex (list: Song[], song: Song) {\r\n  return list.findIndex((item) => {\r\n    return item.id === song.id\r\n  })\r\n}\r\n\r\nconst state = reactive({\r\n  singer: {} as Singer,\r\n  playing: false,\r\n  fullScreen: false,\r\n  playlist: [] as Song[],\r\n  sequenceList: [] as Song[],\r\n  mode: playMode.sequence,\r\n  currentIndex: -1\r\n})\r\nconst currentSong = computed<Song>(() => {\r\n  return state.playlist[state.currentIndex] || {} as Song\r\n})\r\n\r\nfunction setSinger (singer: Singer) {\r\n  state.singer = singer\r\n}\r\n\r\nfunction setFullScreen (flag: boolean) {\r\n  state.fullScreen = flag\r\n}\r\n\r\nfunction setPlayingState (flag: boolean) {\r\n  state.playing = flag\r\n}\r\n\r\nfunction setPlayList (list: Song[]) {\r\n  state.playlist = list\r\n}\r\n\r\nfunction setSequenceList (list: Song[]) {\r\n  state.sequenceList = list\r\n}\r\n\r\nfunction setPlayMode (mode: playMode) {\r\n  state.mode = mode\r\n}\r\n\r\nfunction setCurrentIndex (currentIndex: number) {\r\n  state.currentIndex = currentIndex\r\n}\r\n\r\nfunction selectPlay ({list, index}: { index: number, list: any[] }) {\r\n  setSequenceList(list)\r\n  if (state.mode === playMode.random) {\r\n    let randomList = shuffle(list)\r\n    setPlayList(randomList)\r\n    index = findIndex(randomList, list[index])\r\n  } else {\r\n    setPlayList(list)\r\n  }\r\n  setPlayList(list)\r\n  setCurrentIndex(index)\r\n  setFullScreen(true)\r\n  setPlayingState(true)\r\n}\r\n\r\nfunction randomPlay (list: Song[]) {\r\n  setPlayMode(playMode.random)\r\n  setSequenceList(list)\r\n  let randomList = shuffle(list)\r\n  setPlayList(randomList)\r\n  setCurrentIndex(0)\r\n  setFullScreen(true)\r\n  setPlayingState(true)\r\n}\r\n\r\nfunction insertSong (song: Song) {\r\n  let playlist = state.playlist.slice()\r\n  let sequenceList = state.sequenceList.slice()\r\n  let currentIndex = state.currentIndex\r\n  // 记录当前歌曲\r\n  let currentSong = playlist[currentIndex]\r\n  // 查找当前列表中是否有待插入的歌曲并返回其索引\r\n  let fpIndex = findIndex(playlist, song)\r\n  // 因为是插入歌曲，所以索引+1\r\n  currentIndex++\r\n  // 插入这首歌到当前索引位置\r\n  playlist.splice(currentIndex, 0, song)\r\n  // 如果已经包含了这首歌\r\n  if (fpIndex > -1) {\r\n    // 如果当前插入的序号大于列表中的序号\r\n    if (currentIndex > fpIndex) {\r\n      playlist.splice(fpIndex, 1)\r\n      currentIndex--\r\n    } else {\r\n      playlist.splice(fpIndex + 1, 1)\r\n    }\r\n  }\r\n\r\n  let currentSIndex = findIndex(sequenceList, currentSong) + 1\r\n\r\n  let fsIndex = findIndex(sequenceList, song)\r\n\r\n  sequenceList.splice(currentSIndex, 0, song)\r\n\r\n  if (fsIndex > -1) {\r\n    if (currentSIndex > fsIndex) {\r\n      sequenceList.splice(fsIndex, 1)\r\n    } else {\r\n      sequenceList.splice(fsIndex + 1, 1)\r\n    }\r\n  }\r\n  setPlayList(playlist)\r\n  setSequenceList(sequenceList)\r\n  setCurrentIndex(currentIndex)\r\n  setFullScreen(true)\r\n  setPlayingState(true)\r\n}\r\n\r\nexport const playerSymbol = Symbol()\r\nexport const usePlayerStore = function () {\r\n  provide(playerSymbol, {\r\n    state,\r\n    currentSong,\r\n    setSinger,\r\n    setFullScreen,\r\n    setPlayList,\r\n    setSequenceList,\r\n    setPlayMode,\r\n    setCurrentIndex,\r\n    selectPlay,\r\n    setPlayingState,\r\n    randomPlay,\r\n    insertSong\r\n  })\r\n}\r\nexport const usePlayerInject = function () {\r\n\r\n  const playerContext = inject<PlayerContext>(playerSymbol)\r\n  if (!playerContext) {\r\n    throw new Error(`playerContextInject must be used after playerContextProvide`)\r\n  }\r\n  return playerContext\r\n\r\n}\r\n",
    "export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./progress-bar.vue?vue&type=style&index=0&id=be5c83f4&scoped=true&lang=stylus\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./progress-bar.vue?vue&type=style&index=0&id=be5c83f4&scoped=true&lang=stylus\"",
    "export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./m-header.vue?vue&type=style&index=0&id=5592cdb0&scoped=true&lang=stylus\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./m-header.vue?vue&type=style&index=0&id=5592cdb0&scoped=true&lang=stylus\"",
    "// @ts-nocheck\r\nfunction getRandomInt (min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nexport function shuffle (arr: any[]) {\r\n  let _arr = arr.slice()\r\n  for (let i = 0; i < _arr.length; i++) {\r\n    let j = getRandomInt(0, i)\r\n    let t = _arr[i]\r\n    _arr[i] = _arr[j]\r\n    _arr[j] = t\r\n  }\r\n  return _arr\r\n}\r\n\r\nexport function debounce (func: Function, delay: number) {\r\n  let timer\r\n\r\n  return function (...args) {\r\n    if (timer) {\r\n      clearTimeout(timer)\r\n    }\r\n    timer = setTimeout(() => {\r\n      func.apply(this, args)\r\n    }, delay)\r\n  }\r\n}\r\n",
    "module.exports = __webpack_public_path__ + \"img/default.cbc0e020.png\";",
    "export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./tab.vue?vue&type=style&index=0&id=45b894f0&scoped=true&lang=stylus\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./tab.vue?vue&type=style&index=0&id=45b894f0&scoped=true&lang=stylus\"",
    "export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!./player.styl?vue&type=style&index=0&id=842894b2&scoped=true&lang=stylus\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!./player.styl?vue&type=style&index=0&id=842894b2&scoped=true&lang=stylus\"",
    "export enum playMode {\r\n  sequence,\r\n  loop,\r\n  random\r\n}\r\n",
    "export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./progress-circle.vue?vue&type=style&index=0&id=33c7e0b4&scoped=true&lang=stylus\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./progress-circle.vue?vue&type=style&index=0&id=33c7e0b4&scoped=true&lang=stylus\"",
    "<template>\n  <m-header></m-header>\n  <tab></tab>\n  <router-view v-slot=\"{Component}\">\n    <keep-alive>\n      <component :is=\"Component\" :style=\"routerViewBottom\"></component>\n    </keep-alive>\n  </router-view>\n  <player></player>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, computed, } from 'vue'\nimport { usePlayerStore, usePlayerInject } from './store/player'\nimport MHeader from '@/components/m-header/m-header.vue'\nimport Tab from '@/components/tab/tab.vue'\nimport Player from 'components/player/player.vue'\n\nexport default defineComponent({\n  components: {MHeader, Tab, Player},\n  data(){\n    return{\n      color: 'red'\n    }\n  },\n  setup () {\n    usePlayerStore()\n    const {state} = usePlayerInject()\n    const routerViewBottom = computed(() => {\n      return {\n        bottom: state.playlist.length ? '60px' : '0'\n      }\n    })\n    return {\n      routerViewBottom\n    }\n  }\n})\n</script>\n",
    "<template>\r\n  <div class=\"m-header\">\r\n    <div class=\"icon\"></div>\r\n    <h1 class=\"text\">Chicken Music</h1>\r\n    <router-link tag=\"div\" class=\"mine\" to=\"/user\">\r\n      <i class=\"icon-mine\"></i>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'm-header'\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  .m-header {\r\n    position: relative\r\n    height: 44px\r\n    text-align: center\r\n    color: $color-theme\r\n    font-size: 0\r\n    .icon {\r\n      display: inline-block\r\n      vertical-align: top\r\n      margin-top: 6px\r\n      width: 30px\r\n      height: 32px\r\n      margin-right: 9px\r\n      bg-image('logo')\r\n      background-size: 30px 32px\r\n    }\r\n    .text {\r\n      display: inline-block\r\n      vertical-align: top\r\n      line-height: 44px\r\n      font-size: $font-size-large\r\n    }\r\n    .mine {\r\n      position: absolute\r\n      top: 0\r\n      right: 0\r\n      .icon-mine {\r\n        display: block\r\n        padding: 12px\r\n        font-size: 20px\r\n        color: $color-theme\r\n      }\r\n    }\r\n  }\r\n</style>\r\n",
    "import { render } from \"./m-header.vue?vue&type=template&id=5592cdb0&scoped=true\"\nimport script from \"./m-header.vue?vue&type=script&lang=js\"\nexport * from \"./m-header.vue?vue&type=script&lang=js\"\n\nimport \"./m-header.vue?vue&type=style&index=0&id=5592cdb0&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-5592cdb0\"\n\nexport default script",
    "<template>\r\n  <div class=\"tab\">\r\n    <router-link tag=\"div\" class=\"tab-item\" v-for=\"item in tabList\" :key=\"item.to\" :to=\"item.to\">\r\n      <span class=\"tab-link\">{{item.name}}</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, reactive, toRefs } from 'vue'\r\n\r\ninterface TabItem {\r\n  name: string\r\n  to: string\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'tab',\r\n  setup () {\r\n    const state = reactive({\r\n      tabList: [\r\n        {name: '推荐', to: '/recommend'},\r\n        {name: '歌手', to: '/singer'},\r\n        {name: '排行', to: '/rank'},\r\n        {name: '搜索', to: '/search'}\r\n      ] as TabItem[]\r\n    })\r\n    return {\r\n      ...toRefs(state)\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  .tab\r\n    display: flex\r\n    height: 44px\r\n    line-height: 44px\r\n    font-size: $font-size-medium\r\n    .tab-item\r\n      flex: 1\r\n      text-align: center\r\n      .tab-link\r\n        padding-bottom: 5px\r\n        color: $color-text-l\r\n      &.router-link-active\r\n        .tab-link\r\n          color: $color-theme\r\n          border-bottom: 2px solid $color-theme\r\n</style>\r\n",
    "\r\nimport { defineComponent, reactive, toRefs } from 'vue'\r\n\r\ninterface TabItem {\r\n  name: string\r\n  to: string\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'tab',\r\n  setup () {\r\n    const state = reactive({\r\n      tabList: [\r\n        {name: '推荐', to: '/recommend'},\r\n        {name: '歌手', to: '/singer'},\r\n        {name: '排行', to: '/rank'},\r\n        {name: '搜索', to: '/search'}\r\n      ] as TabItem[]\r\n    })\r\n    return {\r\n      ...toRefs(state)\r\n    }\r\n  }\r\n})\r\n",
    "import { render } from \"./tab.vue?vue&type=template&id=45b894f0&scoped=true\"\nimport script from \"./tab.vue?vue&type=script&lang=ts\"\nexport * from \"./tab.vue?vue&type=script&lang=ts\"\n\nimport \"./tab.vue?vue&type=style&index=0&id=45b894f0&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-45b894f0\"\n\nexport default script",
    "<template>\r\n  <div class=\"player\" v-show=\"playlist.length\">\r\n    <transition name=\"normal\" @enter=\"enter\"\r\n                @after-enter=\"afterEnter\"\r\n                @leave=\"leave\"\r\n                @after-leave=\"afterLeave\">\r\n      <div class=\"normal-player\" v-show=\"fullScreen\">\r\n        <div class=\"background\">\r\n          <img width=\"100%\" height=\"100%\" style=\"width: 100%; height: 100%;\" :src=\"currentSong.image\">\r\n        </div>\r\n        <div class=\"top\">\r\n          <div class=\"back\" @click=\"back\">\r\n            <i class=\"icon-back\"></i>\r\n          </div>\r\n          <h1 class=\"title\" v-html=\"currentSong.name\"></h1>\r\n          <h2 class=\"subtitle\" v-html=\"currentSong.singer\"></h2>\r\n        </div>\r\n        <div class=\"middle\"\r\n             @touchstart.prevent=\"middleTouchStart\"\r\n             @touchmove.prevent=\"middleTouchMove\"\r\n             @touchend.prevent=\"middleTouchEnd\"\r\n        >\r\n          <div class=\"middle-l\" ref=\"middleLeftRef\">\r\n            <div class=\"cd-wrapper\" ref=\"cdWrapper\">\r\n              <div class=\"cd\">\r\n                <img :src=\"currentSong.image\" class=\"image\" :class=\"cdCls\">\r\n              </div>\r\n            </div>\r\n            <div class=\"playing-lyric-wrapper\">\r\n              <div class=\"playing-lyric\">{{playingLyric}}</div>\r\n            </div>\r\n          </div>\r\n          <scroll class=\"middle-r\" ref=\"lyricListRef\">\r\n            <div class=\"lyric-wrapper\">\r\n              <div v-if=\"currentLyric\">\r\n                <p :ref=\"el=>{lyricLineRef[index]=el}\" class=\"text\" :class=\"{current:currentLineNum===index}\"\r\n                   v-for=\"(line,index) in currentLyric.lines\">{{line.txt}}</p>\r\n              </div>\r\n            </div>\r\n          </scroll>\r\n        </div>\r\n        <div class=\"bottom\">\r\n          <div class=\"dot-wrapper\">\r\n            <div class=\"dot\" :class=\"{active:currentShow==='cd'}\"></div>\r\n            <div class=\"dot\" :class=\"{active:currentShow==='lyric'}\"></div>\r\n          </div>\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"time time-l\">{{formatTime(currentTime)}}</span>\r\n            <div class=\"progress-bar-wrapper\">\r\n              <progress-bar :percent=\"percent\" @percent-change=\"onProgressBarChange\"></progress-bar>\r\n            </div>\r\n            <span class=\"time time-r\">{{formatTime(currentSong.duration)}}</span>\r\n          </div>\r\n          <div class=\"operators\">\r\n            <div class=\"icon i-left\" @click=\"changeMode\">\r\n              <i :class=\"iconMode\"></i>\r\n            </div>\r\n            <div class=\"icon i-left\" :class=\"disableCls\">\r\n              <i class=\"icon-prev\" @click=\"prev\"></i>\r\n            </div>\r\n            <div class=\"icon i-center\" :class=\"disableCls\">\r\n              <i :class=\"playIcon\" @click=\"togglePlay\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\" :class=\"disableCls\">\r\n              <i class=\"icon-next\" @click=\"next\"></i>\r\n            </div>\r\n            <div class=\"icon icon-right\">\r\n              <i class=\"icon icon-not-favorite\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"mini\">\r\n      <div class=\"mini-player\" v-show=\"!fullScreen\" @click=\"open\">\r\n        <div class=\"icon\">\r\n          <div class=\"imgWrapper\" ref=\"miniWrapper\">\r\n            <img width=\"40\" height=\"40\" :src=\"currentSong.image\" :class=\"cdCls\">\r\n          </div>\r\n        </div>\r\n        <div class=\"text\">\r\n          <h2 class=\"name\" v-html=\"currentSong.name\"></h2>\r\n          <p class=\"desc\" v-html=\"currentSong.singer\"></p>\r\n        </div>\r\n        <div class=\"control\">\r\n          <progress-circle :radius=\"32\" :percent=\"percent\">\r\n            <i :class=\"miniPlayIcon\" class=\"icon-mini\" @click.stop=\"togglePlay\"></i>\r\n          </progress-circle>\r\n        </div>\r\n        <div class=\"control\">\r\n          <i class=\"icon-playlist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <audio :src=\"currentSong.url\" ref=\"audio\" @canplay=\"ready\" @error=\"error\" @timeupdate=\"updateTime\"\r\n           @ended=\"end\"></audio>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, onBeforeUpdate, ref, toRefs } from 'vue'\r\nimport { usePlayerInject } from '../../store/player'\r\nimport useAnimate from './useAnimate'\r\nimport { usePlay, useReady, useTime, useLyric, useShow } from \"./usePlay\"\r\nimport ProgressBar from 'components/progress-bar/progress-bar.vue'\r\nimport ProgressCircle from \"components/progress-circle/progress-circle.vue\"\r\nimport { playMode } from '@/common/js/config'\r\nimport { shuffle } from \"common/js/util\"\r\nimport Scroll from 'components/scroll/scroll.vue'\r\n// import animations from 'create-keyframe-animation'\r\nexport default defineComponent({\r\n  name: 'player',\r\n  setup () {\r\n    const audio = ref(null as unknown as HTMLAudioElement)\r\n    const songReady = ref(false)\r\n    const {state, currentSong, setFullScreen, setPlayingState, setCurrentIndex, setPlayMode, setPlayList} = usePlayerInject()\r\n    const {playIcon, miniPlayIcon, cdCls, disableCls, iconMode} = usePlay(audio, state, currentSong, songReady)\r\n    const {ready, error} = useReady(songReady)\r\n    const {enter, afterEnter, leave, afterLeave, cdWrapper} = useAnimate()\r\n    const {currentTime, updateTime, formatTime} = useTime()\r\n    const {lyricState, lyricListRef, lyricLineRef,} = useLyric(currentSong, state)\r\n    const {\r\n      currentShow, middleTouchStart,\r\n      middleTouchMove,\r\n      middleTouchEnd,\r\n      middleLeftRef\r\n    } = useShow(lyricListRef)\r\n    const percent = computed(() => {\r\n      return currentTime.value / currentSong.value.duration\r\n    })\r\n\r\n    function back () {\r\n      setFullScreen(false)\r\n    }\r\n\r\n    function open () {\r\n      setFullScreen(true)\r\n    }\r\n\r\n    /******--------播放控制--------********/\r\n      // 暂停/播放\r\n    const togglePlay = () => {\r\n        if (!songReady.value) {\r\n          return\r\n        }\r\n        setPlayingState(!state.playing)\r\n        if (lyricState.currentLyric) {\r\n          lyricState.currentLyric.togglePlay()\r\n        }\r\n      }\r\n\r\n    // 下一曲\r\n    const next = () => {\r\n      let index = state.currentIndex + 1\r\n      if (state.playlist.length === 1) {\r\n        loop()\r\n      } else {\r\n        if (index === state.playlist.length) {\r\n          index = 0\r\n        }\r\n        setCurrentIndex(index)\r\n        if (!state.playing) {\r\n          togglePlay()\r\n        }\r\n      }\r\n      songReady.value = false\r\n    }\r\n\r\n    // 上一曲\r\n    const prev = () => {\r\n      if (!songReady.value) {\r\n        return\r\n      }\r\n      if (state.playlist.length === 1) {\r\n        loop()\r\n      } else {\r\n        let index = state.currentIndex - 1\r\n        if (index === -1) {\r\n          index = state.playlist.length - 1\r\n        }\r\n        setCurrentIndex(index)\r\n        if (!state.playing) {\r\n          togglePlay()\r\n        }\r\n      }\r\n      songReady.value = false\r\n    }\r\n\r\n    const end = () => {\r\n      if (state.mode === playMode.loop) {\r\n        loop()\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n\r\n    const loop = () => {\r\n      audio.value.currentTime = 0\r\n      audio.value.play()\r\n      if (lyricState.currentLyric) {\r\n        lyricState.currentLyric.seek(0)\r\n      }\r\n    }\r\n\r\n    // 切换播放模式\r\n    function changeMode () {\r\n      const mode = (state.mode + 1) % 3\r\n      setPlayMode(mode)\r\n      let list = []\r\n      if (mode === playMode.random) {\r\n        list = shuffle(state.sequenceList)\r\n      } else {\r\n        list = state.sequenceList\r\n      }\r\n      resetCurrentIndex(list)\r\n      setPlayList(list)\r\n    }\r\n\r\n    // 重置当前索引\r\n    function resetCurrentIndex (list: any[]) {\r\n      let index = list.findIndex((item) => {\r\n        return item.id === currentSong.value.id\r\n      })\r\n      setCurrentIndex(index)\r\n    }\r\n\r\n    function onProgressBarChange (percent: number) {\r\n      const currentTime = currentSong.value.duration * percent\r\n      audio.value.currentTime = currentTime\r\n      if (!state.playing) {\r\n        togglePlay()\r\n      }\r\n      if (lyricState.currentLyric) {\r\n        lyricState.currentLyric.seek(currentTime * 100)\r\n      }\r\n    }\r\n\r\n// 确保在每次变更之前重置引用\r\n    onBeforeUpdate(() => {\r\n      lyricLineRef.value = []\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      currentSong,\r\n      back,\r\n      open,\r\n      enter,\r\n      afterEnter,\r\n      leave,\r\n      afterLeave,\r\n      cdWrapper,\r\n      audio,\r\n      togglePlay,\r\n      //--播放状态图标---//\r\n      playIcon,\r\n      miniPlayIcon,\r\n      cdCls,\r\n      disableCls,\r\n      iconMode,\r\n      // 播放控制\r\n      next,\r\n      prev,\r\n      changeMode,\r\n      end,\r\n      // ready\r\n      songReady, ready, error,\r\n      // 时间控制\r\n      currentTime, updateTime, formatTime,\r\n      percent,\r\n      onProgressBarChange,\r\n      ...toRefs(lyricState),\r\n      lyricListRef,\r\n      lyricLineRef,\r\n      currentShow,\r\n      middleTouchStart,\r\n      middleTouchMove,\r\n      middleTouchEnd,\r\n      middleLeftRef\r\n    }\r\n  },\r\n  components: {\r\n    ProgressCircle,\r\n    ProgressBar,\r\n    Scroll\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" src=\"./player.styl\">\r\n\r\n</style>\r\n",
    "import animations from 'create-keyframe-animation'\r\nimport { ref } from 'vue'\r\n\r\nconst cdWrapper = ref('' as unknown as HTMLDivElement)\r\n\r\nfunction enter (el: HTMLElement, done: HTMLElementEventMap) {\r\n  const {x, y, scale} = getPosAndScale()\r\n\r\n  const animation = {\r\n    0: {\r\n      transform: `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n    },\r\n    60: {\r\n      transform: 'translate3d(0,0,0) scale(1.1)'\r\n    },\r\n    100: {\r\n      transform: 'translate3d(0,0,0) scale(1)'\r\n    }\r\n  }\r\n\r\n  animations.registerAnimation({\r\n    name: 'move',\r\n    animation,\r\n    presets: {\r\n      duration: 400,\r\n      easing: 'linear'\r\n    }\r\n  })\r\n\r\n  animations.runAnimation(cdWrapper.value, 'move', done)\r\n}\r\n\r\nfunction afterEnter () {\r\n  animations.unregisterAnimation('move')\r\n  cdWrapper.value.style.animation = ''\r\n}\r\n\r\nfunction leave (el: HTMLElement, done: any) {\r\n  const {x, y, scale} = getPosAndScale()\r\n  cdWrapper.value.style.transition = 'all 0.4s'\r\n  cdWrapper.value.style.transform = ` translate3d(${x}px,${y}px,0) scale(${scale})`\r\n  cdWrapper.value.addEventListener('transitionend', done)\r\n}\r\n\r\nfunction afterLeave () {\r\n  cdWrapper.value.style.transition = ''\r\n  cdWrapper.value.style.transform = ''\r\n}\r\n\r\nfunction getPosAndScale () {\r\n  const targetWidth = 40\r\n  const paddingLeft = 40\r\n  const paddingBottom = 30\r\n  const paddingTop = 80\r\n  const width = window.innerWidth * 0.8\r\n  const scale = targetWidth / width\r\n  const x = -(window.innerWidth / 2) - paddingLeft\r\n  const y = window.innerHeight - paddingTop - width / 2 - paddingBottom\r\n  return {\r\n    x, y, scale\r\n  }\r\n}\r\n\r\nexport default function useAnimate () {\r\n  return {\r\n    enter,\r\n    afterEnter,\r\n    leave,\r\n    afterLeave,\r\n    cdWrapper\r\n  }\r\n}\r\n",
    "import { computed, ComputedRef, Ref, ref, watch, reactive } from 'vue'\r\nimport { PlayStoreInt } from \"@/types/playStore\"\r\nimport { playMode } from \"common/js/config\"\r\nimport Song from \"common/js/song\"\r\nimport Lyric from 'lyric-parser'\r\n\r\nexport function usePlay (audio: Ref<HTMLAudioElement>, state: PlayStoreInt, currentSong: ComputedRef<Song>, songReady: Ref<boolean>) {\r\n  // const currentLyric = ref({} as Lyric)\r\n  watch(() => currentSong.value, async (newSong, oldSong) => {\r\n    if (!newSong.id || !newSong.url || newSong.id === oldSong.id) {\r\n      return\r\n    }\r\n    try {\r\n      audio.value.src = newSong.url\r\n      await audio.value.play()\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  })\r\n  watch((() => state.playing), (newPlaying) => {\r\n    newPlaying ? audio.value.play() : audio.value.pause()\r\n  })\r\n  const playIcon = computed(() => {\r\n    return state.playing ? 'icon-pause' : 'icon-play'\r\n  })\r\n  const miniPlayIcon = computed(() => {\r\n    return state.playing ? 'icon-pause-mini' : 'icon-play-mini'\r\n  })\r\n  const cdCls = computed(() => {\r\n    return state.playing ? 'play' : ''\r\n  })\r\n  const disableCls = computed(() => {\r\n    return songReady.value ? '' : 'disable'\r\n  })\r\n  const iconMode = computed(() => {\r\n    const map = {\r\n      [playMode.sequence]: 'icon-sequence',\r\n      [playMode.loop]: 'icon-loop',\r\n      [playMode.random]: 'icon-random'\r\n    }\r\n    return map[state.mode]\r\n  })\r\n  return {\r\n    // togglePlay,\r\n    playIcon,\r\n    miniPlayIcon,\r\n    cdCls,\r\n    disableCls,\r\n    iconMode,\r\n    // getLyric\r\n  }\r\n}\r\n\r\nexport function useReady (songReady: Ref<boolean>) {\r\n  function ready () {\r\n    songReady.value = true\r\n  }\r\n\r\n  function error () {\r\n    songReady.value = false\r\n  }\r\n\r\n  return {\r\n    songReady,\r\n    ready,\r\n    error\r\n  }\r\n}\r\n\r\nexport function useTime () {\r\n  const currentTime = ref(0)\r\n\r\n  function updateTime (e: Event) {\r\n    const target = e.target as HTMLAudioElement\r\n    currentTime.value = target.currentTime\r\n  }\r\n\r\n  function formatTime (interval: number) {\r\n    interval = interval | 0\r\n    const minute = interval / 60 | 0\r\n    const second = interval % 60\r\n    return `${minute}:${second.toString().padStart(2, '0')}`\r\n  }\r\n\r\n  return {\r\n    currentTime,\r\n    updateTime,\r\n    formatTime\r\n  }\r\n}\r\n\r\n// interface LyricStateInt {\r\n//   currentLyric: Lyric\r\n//   currentLineNum: number\r\n// }\r\n\r\nexport function useLyric (currentSong: ComputedRef<Song>, state: PlayStoreInt) {\r\n  const lyricState = reactive({\r\n    currentLyric: null as null | Lyric,\r\n    currentLineNum: 0,\r\n    playingLyric: ''\r\n  })\r\n  const lyricListRef = ref('' as any)\r\n  const lyricLineRef = ref([] as unknown as HTMLParagraphElement[])\r\n  const handleLyric = ({lineNum, txt}: { lineNum: number, txt: string }) => {\r\n    lyricState.currentLineNum = lineNum\r\n    if (lineNum > 5) {\r\n      let lineEl = lyricLineRef.value[lineNum - 5]\r\n      // @ts-ignore\r\n      lyricListRef.value.scrollToElement(lineEl, 1000)\r\n    } else {\r\n      lyricListRef.value.scrollTo(0, 0, 1000)\r\n    }\r\n    lyricState.playingLyric = txt\r\n\r\n  }\r\n  watch(() => currentSong.value, async (newSong, oldSong) => {\r\n    if (newSong.id === oldSong.id) {\r\n      return\r\n    }\r\n    if (lyricState.currentLyric) {\r\n      lyricState.currentLyric.stop()\r\n    }\r\n    try {\r\n      const lyric = await currentSong.value.getLyric()\r\n      lyricState.currentLyric = new Lyric(lyric, handleLyric)\r\n      if (state.playing) {\r\n        lyricState.currentLyric.play(0)\r\n      }\r\n    } catch (e) {\r\n      lyricState.currentLyric = null\r\n      lyricState.currentLineNum = 0\r\n      lyricState.playingLyric = ''\r\n    }\r\n  })\r\n  return {\r\n    lyricState,\r\n    lyricListRef,\r\n    lyricLineRef,\r\n  }\r\n}\r\n\r\ninterface Touch {\r\n  initiated: boolean\r\n  startX: number\r\n  startY: number\r\n  left: number\r\n  percent: number\r\n}\r\n\r\nexport function useShow (lyricListRef: Ref<any>) {\r\n  const currentShow = ref('cd')\r\n  const touchState = {} as Touch\r\n  const middleLeftRef = ref('' as unknown as HTMLDivElement)\r\n  const middleTouchStart = (e: TouchEvent) => {\r\n    touchState.initiated = true\r\n    touchState.startX = e.touches[0].pageX\r\n    touchState.startY = e.touches[0].pageY\r\n  }\r\n  const middleTouchMove = (e: TouchEvent) => {\r\n    if (!touchState.initiated) {\r\n      return\r\n    }\r\n    const touch = e.touches[0]\r\n    const deltaX = touch.pageX - touchState.startX\r\n    const deltaY = touch.pageY - touchState.startY\r\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n      return\r\n    }\r\n    const left = currentShow.value === 'cd' ? 0 : -window.innerWidth\r\n    const width = Math.min(Math.max(-window.innerWidth, left + deltaX), 0)\r\n    touchState.percent = Math.abs(width / window.innerWidth)\r\n    lyricListRef.value.$el.style.transform = `translate3d(${width}px,0,0)`\r\n    lyricListRef.value.$el.style.transitionDuration = 0\r\n    middleLeftRef.value.style.opacity = `${1 - touchState.percent}`\r\n\r\n  }\r\n  const middleTouchEnd = () => {\r\n    let offsetWidth: number\r\n    let opacity: number\r\n    if (currentShow.value === 'cd') {\r\n      if (touchState.percent > 0.1) {\r\n        offsetWidth = -window.innerWidth\r\n        opacity = 0\r\n        currentShow.value = 'lyric'\r\n      } else {\r\n        offsetWidth = 0\r\n        opacity = 1\r\n      }\r\n    } else {\r\n      if (touchState.percent < 0.9) {\r\n        offsetWidth = 0\r\n        currentShow.value = 'cd'\r\n        opacity = 1\r\n      } else {\r\n        offsetWidth = -window.innerWidth\r\n        opacity = 0\r\n      }\r\n    }\r\n    lyricListRef.value.$el.style.transform = `translate3d(${offsetWidth}px,0,0)`\r\n    lyricListRef.value.$el.style.transitionDuration = '300ms'\r\n    middleLeftRef.value.style.opacity = `${opacity}`\r\n  }\r\n  return {\r\n    currentShow,\r\n    middleTouchStart,\r\n    middleTouchMove,\r\n    middleTouchEnd,\r\n    middleLeftRef\r\n  }\r\n}\r\n",
    "<template>\r\n  <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"bar-inner\">\r\n      <div class=\"progress\" ref=\"progress\" :style=\"{width:`${offsetWidth}px`}\"></div>\r\n      <div class=\"progress-btn-wrapper\" ref=\"progressBtn\"\r\n           :style=\"{transform:`translate3d(${offsetWidth}px,0,0)`}\"\r\n           @touchstart.prevent=\"progressTouchStart\"\r\n           @touchmove.prevent=\"progressTouchMove\"\r\n           @touchend.prevent=\"progressTouchEnd\"\r\n      >\r\n        <div class=\"progress-btn\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { computed, defineComponent, onMounted, reactive, ref, watch, nextTick } from 'vue'\r\ninterface Touch {\r\n  initiated: boolean\r\n  startX: number\r\n  left: number\r\n}\r\nconst progressBtnWidth = 16\r\nexport default defineComponent({\r\n  name: 'progress-bar',\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  setup (props, {emit}) {\r\n    const progressBar = ref('' as unknown as HTMLDivElement)\r\n    const progress = ref('' as unknown as HTMLDivElement)\r\n    const progressBtn = ref('' as unknown as HTMLDivElement)\r\n    const barPercent = ref(0)\r\n    watch((() => props.percent), (newPercent) => {\r\n      if (touch.initiated) {\r\n        return\r\n      }\r\n      if (newPercent > 0) {\r\n        barPercent.value = newPercent\r\n      }\r\n    })\r\n    const offsetWidth = computed({\r\n      get: () => {\r\n        const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n        return barWidth * barPercent.value\r\n      },\r\n      set: (val) => {\r\n        const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n        const percent = val / barWidth\r\n        barPercent.value = percent\r\n      }\r\n    })\r\n    const touch = reactive({} as Touch)\r\n    function progressTouchStart (e: TouchEvent) {\r\n      touch.initiated = true\r\n      touch.startX = e.touches[0].pageX\r\n      touch.left = progress.value.clientWidth\r\n    }\r\n    function progressTouchMove (e: TouchEvent) {\r\n      if (!touch.initiated) {\r\n        return\r\n      }\r\n      // 手指移动的偏移量\r\n      const deltaX = e.touches[0].pageX - touch.startX\r\n      offsetWidth.value = Math.min(progressBar.value.clientWidth - progressBtnWidth, Math.max(0, touch.left + deltaX))\r\n    }\r\n    function progressTouchEnd (e: TouchEvent) {\r\n      touch.initiated = false\r\n      triggerPercent()\r\n    }\r\n    function triggerPercent () {\r\n      const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n      const percent = progress.value.clientWidth / barWidth\r\n      emit('percent-change', percent)\r\n    }\r\n    function progressClick (e: MouseEvent) {\r\n      touch.initiated = true\r\n      const rect = progressBar.value.getBoundingClientRect()\r\n      offsetWidth.value = e.pageX - rect.left\r\n      nextTick(() => {\r\n        triggerPercent()\r\n        touch.initiated = false\r\n      })\r\n    }\r\n    return {\r\n      progressBar,\r\n      progress,\r\n      progressBtn,\r\n      offsetWidth,\r\n      progressTouchStart,\r\n      progressTouchMove,\r\n      progressTouchEnd,\r\n      progressClick\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  .progress-bar\r\n    height: 30px\r\n    .bar-inner\r\n      position: relative\r\n      top: 13px\r\n      height: 4px\r\n      background: rgba(0, 0, 0, 0.3)\r\n      .progress\r\n        position: absolute\r\n        height: 100%\r\n        background: $color-theme\r\n      .progress-btn-wrapper\r\n        position: absolute\r\n        left: -8px\r\n        top: -13px\r\n        width: 30px\r\n        height: 30px\r\n        .progress-btn\r\n          position: relative\r\n          top: 7px\r\n          left: 7px\r\n          box-sizing: border-box\r\n          width: 16px\r\n          height: 16px\r\n          border: 3px solid $color-text\r\n          border-radius: 50%\r\n          background: $color-theme\r\n</style>\r\n",
    "\r\nimport { computed, defineComponent, onMounted, reactive, ref, watch, nextTick } from 'vue'\r\ninterface Touch {\r\n  initiated: boolean\r\n  startX: number\r\n  left: number\r\n}\r\nconst progressBtnWidth = 16\r\nexport default defineComponent({\r\n  name: 'progress-bar',\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  setup (props, {emit}) {\r\n    const progressBar = ref('' as unknown as HTMLDivElement)\r\n    const progress = ref('' as unknown as HTMLDivElement)\r\n    const progressBtn = ref('' as unknown as HTMLDivElement)\r\n    const barPercent = ref(0)\r\n    watch((() => props.percent), (newPercent) => {\r\n      if (touch.initiated) {\r\n        return\r\n      }\r\n      if (newPercent > 0) {\r\n        barPercent.value = newPercent\r\n      }\r\n    })\r\n    const offsetWidth = computed({\r\n      get: () => {\r\n        const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n        return barWidth * barPercent.value\r\n      },\r\n      set: (val) => {\r\n        const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n        const percent = val / barWidth\r\n        barPercent.value = percent\r\n      }\r\n    })\r\n    const touch = reactive({} as Touch)\r\n    function progressTouchStart (e: TouchEvent) {\r\n      touch.initiated = true\r\n      touch.startX = e.touches[0].pageX\r\n      touch.left = progress.value.clientWidth\r\n    }\r\n    function progressTouchMove (e: TouchEvent) {\r\n      if (!touch.initiated) {\r\n        return\r\n      }\r\n      // 手指移动的偏移量\r\n      const deltaX = e.touches[0].pageX - touch.startX\r\n      offsetWidth.value = Math.min(progressBar.value.clientWidth - progressBtnWidth, Math.max(0, touch.left + deltaX))\r\n    }\r\n    function progressTouchEnd (e: TouchEvent) {\r\n      touch.initiated = false\r\n      triggerPercent()\r\n    }\r\n    function triggerPercent () {\r\n      const barWidth = progressBar.value.clientWidth - progressBtnWidth\r\n      const percent = progress.value.clientWidth / barWidth\r\n      emit('percent-change', percent)\r\n    }\r\n    function progressClick (e: MouseEvent) {\r\n      touch.initiated = true\r\n      const rect = progressBar.value.getBoundingClientRect()\r\n      offsetWidth.value = e.pageX - rect.left\r\n      nextTick(() => {\r\n        triggerPercent()\r\n        touch.initiated = false\r\n      })\r\n    }\r\n    return {\r\n      progressBar,\r\n      progress,\r\n      progressBtn,\r\n      offsetWidth,\r\n      progressTouchStart,\r\n      progressTouchMove,\r\n      progressTouchEnd,\r\n      progressClick\r\n    }\r\n  }\r\n})\r\n",
    "import { render } from \"./progress-bar.vue?vue&type=template&id=be5c83f4&scoped=true\"\nimport script from \"./progress-bar.vue?vue&type=script&lang=ts\"\nexport * from \"./progress-bar.vue?vue&type=script&lang=ts\"\n\nimport \"./progress-bar.vue?vue&type=style&index=0&id=be5c83f4&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-be5c83f4\"\n\nexport default script",
    "<template>\r\n  <div class=\"progress-circle\">\r\n    <svg :width=\"32\" :height=\"32\" viewBox=\"0 0 100 100\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/>\r\n      <circle\r\n          class=\"progress-bar\"\r\n          r=\"50\"\r\n          cx=\"50\"\r\n          cy=\"50\"\r\n          fill=\"transparent\"\r\n          :stroke-dasharray=\"dashArray\"\r\n          :stroke-dashoffset=\"dashOffset\"\r\n      />\r\n    </svg>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, computed } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'progress-circle',\r\n  props: {\r\n    radius: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  setup (props) {\r\n    const dashArray = Math.PI * 100\r\n    const dashOffset = computed(() => {\r\n      return (1 - props.percent) * dashArray\r\n    })\r\n    return {\r\n      dashOffset,\r\n      dashArray\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  .progress-circle\r\n    position: relative\r\n    circle\r\n      stroke-width: 8px\r\n      transform-origin: center\r\n      &.progress-background\r\n        transform: scale(0.9)\r\n        stroke: $color-theme-d\r\n      &.progress-bar\r\n        transform: scale(0.9) rotate(-90deg)\r\n        stroke: $color-theme\r\n</style>\r\n",
    "\r\nimport { defineComponent, computed } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'progress-circle',\r\n  props: {\r\n    radius: {\r\n      type: Number,\r\n      default: 100\r\n    },\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  setup (props) {\r\n    const dashArray = Math.PI * 100\r\n    const dashOffset = computed(() => {\r\n      return (1 - props.percent) * dashArray\r\n    })\r\n    return {\r\n      dashOffset,\r\n      dashArray\r\n    }\r\n  }\r\n})\r\n",
    "import { render } from \"./progress-circle.vue?vue&type=template&id=33c7e0b4&scoped=true\"\nimport script from \"./progress-circle.vue?vue&type=script&lang=ts\"\nexport * from \"./progress-circle.vue?vue&type=script&lang=ts\"\n\nimport \"./progress-circle.vue?vue&type=style&index=0&id=33c7e0b4&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-33c7e0b4\"\n\nexport default script",
    "\r\nimport { computed, defineComponent, onBeforeUpdate, ref, toRefs } from 'vue'\r\nimport { usePlayerInject } from '../../store/player'\r\nimport useAnimate from './useAnimate'\r\nimport { usePlay, useReady, useTime, useLyric, useShow } from \"./usePlay\"\r\nimport ProgressBar from 'components/progress-bar/progress-bar.vue'\r\nimport ProgressCircle from \"components/progress-circle/progress-circle.vue\"\r\nimport { playMode } from '@/common/js/config'\r\nimport { shuffle } from \"common/js/util\"\r\nimport Scroll from 'components/scroll/scroll.vue'\r\n// import animations from 'create-keyframe-animation'\r\nexport default defineComponent({\r\n  name: 'player',\r\n  setup () {\r\n    const audio = ref(null as unknown as HTMLAudioElement)\r\n    const songReady = ref(false)\r\n    const {state, currentSong, setFullScreen, setPlayingState, setCurrentIndex, setPlayMode, setPlayList} = usePlayerInject()\r\n    const {playIcon, miniPlayIcon, cdCls, disableCls, iconMode} = usePlay(audio, state, currentSong, songReady)\r\n    const {ready, error} = useReady(songReady)\r\n    const {enter, afterEnter, leave, afterLeave, cdWrapper} = useAnimate()\r\n    const {currentTime, updateTime, formatTime} = useTime()\r\n    const {lyricState, lyricListRef, lyricLineRef,} = useLyric(currentSong, state)\r\n    const {\r\n      currentShow, middleTouchStart,\r\n      middleTouchMove,\r\n      middleTouchEnd,\r\n      middleLeftRef\r\n    } = useShow(lyricListRef)\r\n    const percent = computed(() => {\r\n      return currentTime.value / currentSong.value.duration\r\n    })\r\n\r\n    function back () {\r\n      setFullScreen(false)\r\n    }\r\n\r\n    function open () {\r\n      setFullScreen(true)\r\n    }\r\n\r\n    /******--------播放控制--------********/\r\n      // 暂停/播放\r\n    const togglePlay = () => {\r\n        if (!songReady.value) {\r\n          return\r\n        }\r\n        setPlayingState(!state.playing)\r\n        if (lyricState.currentLyric) {\r\n          lyricState.currentLyric.togglePlay()\r\n        }\r\n      }\r\n\r\n    // 下一曲\r\n    const next = () => {\r\n      let index = state.currentIndex + 1\r\n      if (state.playlist.length === 1) {\r\n        loop()\r\n      } else {\r\n        if (index === state.playlist.length) {\r\n          index = 0\r\n        }\r\n        setCurrentIndex(index)\r\n        if (!state.playing) {\r\n          togglePlay()\r\n        }\r\n      }\r\n      songReady.value = false\r\n    }\r\n\r\n    // 上一曲\r\n    const prev = () => {\r\n      if (!songReady.value) {\r\n        return\r\n      }\r\n      if (state.playlist.length === 1) {\r\n        loop()\r\n      } else {\r\n        let index = state.currentIndex - 1\r\n        if (index === -1) {\r\n          index = state.playlist.length - 1\r\n        }\r\n        setCurrentIndex(index)\r\n        if (!state.playing) {\r\n          togglePlay()\r\n        }\r\n      }\r\n      songReady.value = false\r\n    }\r\n\r\n    const end = () => {\r\n      if (state.mode === playMode.loop) {\r\n        loop()\r\n      } else {\r\n        next()\r\n      }\r\n    }\r\n\r\n    const loop = () => {\r\n      audio.value.currentTime = 0\r\n      audio.value.play()\r\n      if (lyricState.currentLyric) {\r\n        lyricState.currentLyric.seek(0)\r\n      }\r\n    }\r\n\r\n    // 切换播放模式\r\n    function changeMode () {\r\n      const mode = (state.mode + 1) % 3\r\n      setPlayMode(mode)\r\n      let list = []\r\n      if (mode === playMode.random) {\r\n        list = shuffle(state.sequenceList)\r\n      } else {\r\n        list = state.sequenceList\r\n      }\r\n      resetCurrentIndex(list)\r\n      setPlayList(list)\r\n    }\r\n\r\n    // 重置当前索引\r\n    function resetCurrentIndex (list: any[]) {\r\n      let index = list.findIndex((item) => {\r\n        return item.id === currentSong.value.id\r\n      })\r\n      setCurrentIndex(index)\r\n    }\r\n\r\n    function onProgressBarChange (percent: number) {\r\n      const currentTime = currentSong.value.duration * percent\r\n      audio.value.currentTime = currentTime\r\n      if (!state.playing) {\r\n        togglePlay()\r\n      }\r\n      if (lyricState.currentLyric) {\r\n        lyricState.currentLyric.seek(currentTime * 100)\r\n      }\r\n    }\r\n\r\n// 确保在每次变更之前重置引用\r\n    onBeforeUpdate(() => {\r\n      lyricLineRef.value = []\r\n    })\r\n    return {\r\n      ...toRefs(state),\r\n      currentSong,\r\n      back,\r\n      open,\r\n      enter,\r\n      afterEnter,\r\n      leave,\r\n      afterLeave,\r\n      cdWrapper,\r\n      audio,\r\n      togglePlay,\r\n      //--播放状态图标---//\r\n      playIcon,\r\n      miniPlayIcon,\r\n      cdCls,\r\n      disableCls,\r\n      iconMode,\r\n      // 播放控制\r\n      next,\r\n      prev,\r\n      changeMode,\r\n      end,\r\n      // ready\r\n      songReady, ready, error,\r\n      // 时间控制\r\n      currentTime, updateTime, formatTime,\r\n      percent,\r\n      onProgressBarChange,\r\n      ...toRefs(lyricState),\r\n      lyricListRef,\r\n      lyricLineRef,\r\n      currentShow,\r\n      middleTouchStart,\r\n      middleTouchMove,\r\n      middleTouchEnd,\r\n      middleLeftRef\r\n    }\r\n  },\r\n  components: {\r\n    ProgressCircle,\r\n    ProgressBar,\r\n    Scroll\r\n  }\r\n})\r\n",
    "import { render } from \"./player.vue?vue&type=template&id=842894b2&scoped=true\"\nimport script from \"./player.vue?vue&type=script&lang=ts\"\nexport * from \"./player.vue?vue&type=script&lang=ts\"\n\nimport \"./player.styl?vue&type=style&index=0&id=842894b2&scoped=true&lang=stylus\"\nscript.render = render\nscript.__scopeId = \"data-v-842894b2\"\n\nexport default script",
    "\nimport { defineComponent, computed, } from 'vue'\nimport { usePlayerStore, usePlayerInject } from './store/player'\nimport MHeader from '@/components/m-header/m-header.vue'\nimport Tab from '@/components/tab/tab.vue'\nimport Player from 'components/player/player.vue'\n\nexport default defineComponent({\n  components: {MHeader, Tab, Player},\n  data(){\n    return{\n      color: 'red'\n    }\n  },\n  setup () {\n    usePlayerStore()\n    const {state} = usePlayerInject()\n    const routerViewBottom = computed(() => {\n      return {\n        bottom: state.playlist.length ? '60px' : '0'\n      }\n    })\n    return {\n      routerViewBottom\n    }\n  }\n})\n",
    "import { render } from \"./App.vue?vue&type=template&id=3de4d082\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script",
    "import { RouteRecordRaw, createRouter, createWebHashHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\n\nconst routes: RouteRecordRaw[] = [\n  {\n    path: '/',\n    redirect: '/recommend',\n  },\n  {\n    path: '/rank',\n    name: 'rank',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import('@/views/rank/rank.vue')\n  },\n  {\n    path: '/singer',\n    component: () => import('@/views/singer/singer.vue'),\n    children: [\n      {\n        path: ':id',\n        component: () => import('views/singer-detail/singer-detail.vue')\n      }\n    ]\n  },\n  {\n    path: '/search',\n    component: () => import('views/search/search.vue'),\n    children: [\n      {\n        path: ':id',\n        component: () => import('views/singer-detail/singer-detail.vue')\n      }\n    ]\n  },\n  {\n    path: '/recommend',\n    component: () => import('views/recommend/recommend.vue'),\n    children: [\n      {\n        path: '/:id',\n        component: () => import('views/disc/disc.vue')\n      }\n    ]\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n",
    "import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {},\n  mutations: {},\n  actions: {},\n  modules: {}\n})\n",
    "import { createApp} from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport lazyPlugin from 'vue3-lazy'\nimport './common/stylus/index.styl'\n// import { usePlayerStore } from './store/player'\nconst app = createApp(App)\n  // .use(usePlayerStore)\n  .use(router)\n  .use(store)\n  .use(lazyPlugin, {\n    loading: require('common/image/default.png'),\n  })\n  .mount('#app')\n",
    "<template>\r\n  <div class=\"scroll-container\" ref=\"wrapper\">\r\n    <div class=\"scroll-content\">\r\n      <slot></slot>\r\n    </div>\r\n    <!-- 这里可以放一些其它的 DOM，但不会影响滚动 -->\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport BScroll from '@better-scroll/core'\r\nimport ObserveDOM from '@better-scroll/observe-dom'\r\n\r\n// const scrollFn = (payload: { x: number; y: number }) => void\r\nBScroll.use(ObserveDOM)\r\nimport { defineComponent, onMounted, ref, } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'scroll',\r\n  props: {\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  // emits: {\r\n  // scroll (payload: { x: number, y: number }) {\r\n  // }\r\n  // },\r\n  setup (props, {emit}) {\r\n    const wrapper = ref('')\r\n    let scroll = null as unknown as BScroll\r\n\r\n    function scrollTo () {\r\n      scroll && scroll.scrollTo.apply(scroll, arguments)\r\n    }\r\n\r\n    function scrollToElement () {\r\n      scroll && scroll.scrollToElement.apply(scroll, arguments)\r\n    }\r\n\r\n    onMounted(() => {\r\n      scroll = new BScroll(wrapper.value, {\r\n        observeDOM: true,\r\n        click: true,\r\n        listenScroll: props.listenScroll,\r\n        probeType: 3,\r\n      })\r\n      if (props.listenScroll) {\r\n        scroll.on('scroll', (pos: { x: number, y: number }) => {\r\n          emit('scroll', pos)\r\n        })\r\n      }\r\n    })\r\n    return {\r\n      wrapper,\r\n      scrollTo,\r\n      scrollToElement,\r\n      scroll\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n",
    "\r\nimport BScroll from '@better-scroll/core'\r\nimport ObserveDOM from '@better-scroll/observe-dom'\r\n\r\n// const scrollFn = (payload: { x: number; y: number }) => void\r\nBScroll.use(ObserveDOM)\r\nimport { defineComponent, onMounted, ref, } from 'vue'\r\n\r\nexport default defineComponent({\r\n  name: 'scroll',\r\n  props: {\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  // emits: {\r\n  // scroll (payload: { x: number, y: number }) {\r\n  // }\r\n  // },\r\n  setup (props, {emit}) {\r\n    const wrapper = ref('')\r\n    let scroll = null as unknown as BScroll\r\n\r\n    function scrollTo () {\r\n      scroll && scroll.scrollTo.apply(scroll, arguments)\r\n    }\r\n\r\n    function scrollToElement () {\r\n      scroll && scroll.scrollToElement.apply(scroll, arguments)\r\n    }\r\n\r\n    onMounted(() => {\r\n      scroll = new BScroll(wrapper.value, {\r\n        observeDOM: true,\r\n        click: true,\r\n        listenScroll: props.listenScroll,\r\n        probeType: 3,\r\n      })\r\n      if (props.listenScroll) {\r\n        scroll.on('scroll', (pos: { x: number, y: number }) => {\r\n          emit('scroll', pos)\r\n        })\r\n      }\r\n    })\r\n    return {\r\n      wrapper,\r\n      scrollTo,\r\n      scrollToElement,\r\n      scroll\r\n    }\r\n  }\r\n})\r\n",
    "import { render } from \"./scroll.vue?vue&type=template&id=305bbd40\"\nimport script from \"./scroll.vue?vue&type=script&lang=ts\"\nexport * from \"./scroll.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script"
  ],
  "sourceRoot": ""
}
